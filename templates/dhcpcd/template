# Template file for 'dhcpcd'
pkgname=dhcpcd
version=5.0.3
distfiles="http://roy.marples.name/downloads/dhcpcd/dhcpcd-$version.tar.bz2"
build_style=gnu_makefile
short_desc="RFC2131 compliant DHCP client"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=8f6ce94d96191eb72742624aab5ba90e0697e58951dfb35e9e196f77ee3185a7
long_desc="
 dhcpcd is a RFC 2131 compliant DHCP client. It's also a RFC 3927 compliant
 IPv4LL (aka ZeroConf) client.
 
 In layman's terms, dhcpcd runs on your machine and silently configures your
 computer to work on the attached networks without trouble and mostly without
 configuration."

Add_dependency run glibc
Add_dependency run OpenRC

conf_files="/etc/dhcpcd.conf"
openrc_services="dhcpcd default"
triggers="openrc-service"

pre_configure()
{
	cd $wrksrc
	sed -i 's/\/libexec/\/lib\/dhcpcd/' Makefile
	sed -i 's/\/libexec/\/lib\/dhcpcd/' dhcpcd-hooks/Makefile
}

post_install()
{
	# Install the OpenRC service
	install -D -m755 ${FILESDIR}/dhcpcd.rc ${DESTDIR}/etc/init.d/dhcpcd
}
