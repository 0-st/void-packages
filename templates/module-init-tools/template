# Template file for 'module-init-tools'
pkgname=module-init-tools
version=3.8
distfiles="${KERNEL_SITE}//utils/kernel/$pkgname/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--enable-zlib --prefix="
short_desc="Tools for managing kernel modules"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=dc880716a6b16a28dd5e18178bd266b9f598bd29b2580688390915bcc1aef65e
long_desc="
 The module-init-tools package provides many of the utilities
 needed by Linux systems for managing loadable Linux Kernel Modules. This
 includes depmod, insmod, rmmod, modprobe and tools like modinfo."

conf_files="/etc/modprobe.conf"
Add_dependency full glibc
Add_dependency full zlib

post_install()
{
	rm -f ${DESTDIR}/sbin/generate-modprobe.conf

	mkdir -p ${DESTDIR}/etc
	cat >> ${DESTDIR}/etc/modprobe.conf <<_EOF
#
# /etc/modprobe.conf. Please read modprobe.conf(5).
#
_EOF
	chmod 644 ${DESTDIR}/etc/modprobe.conf
}
