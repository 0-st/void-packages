# Template file for 'acl'
pkgname=acl
version=2.2.47
distfiles="ftp://oss.sgi.com/projects/xfs/cmd_tars/acl_${version}-1.tar.gz"
build_style=gnu_configure
configure_env="ac_cv_path_LIBTOOL=${XBPS_MASTERDIR}/usr/bin/libtool
 ac_cv_path_MSGFMT=${XBPS_MASTERDIR}/usr/bin/msgfmt
 ac_cv_path_MSGMERGE=${XBPS_MASTERDIR}/usr/bin/msgmerge
 ac_cv_path_XGETTEXT=${XBPS_MASTERDIR}/usr/bin/xgettext"
make_install_args="install-lib install-dev"
short_desc="Access Control List filesystem support"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=240906fbea566f5d2dc354d67c3c9e776ad7f8a35a189da2f411c4e9847969c8
long_desc="
 This package includes support for Access Control Lists support for supported
 filesystems."

base_chroot=yes
keep_libtool_archives=yes

subpackages="devel progs"
Add_dependency build libtool
Add_dependency build gettext
Add_dependency run   glibc
Add_dependency full  attr

post_install()
{
	mkdir ${DESTDIR}/lib
	mv ${DESTDIR}/usr/lib/libacl.so.* ${DESTDIR}/lib
	mv ${DESTDIR}/usr/libexec/libacl.* ${DESTDIR}/usr/lib
	rm -rf ${DESTDIR}/usr/libexec
	rm -f ${DESTDIR}/usr/lib/libacl.so
	cd ${DESTDIR}/usr/lib && ln -sf ../../lib/libacl.so.1 libacl.so
}
