# Template file for 'initscripts'
pkgname=initscripts
version=2009.03
revision=1
build_style=custom-install
short_desc="xbps base system init scripts"
maintainer="Juan RP <xtraeme@gmail.com>"
long_desc="
 This package installs the xbps base init scripts, used for booting
 the system and starting/stopping services.

 The scripts use the BSD style and contain portions from Arch Linux and
 from NetBSD."

noarch=yes
conf_files="/etc/inittab /etc/rc.conf /etc/rc.local /etc/rc.local.shutdown"
keep_dirs="/etc/rc.d /etc/rc.conf.d"

Add_dependency full glibc
Add_dependency full bash
Add_dependency full gawk
Add_dependency full grep
Add_dependency full coreutils
Add_dependency full sed
Add_dependency full udev
Add_dependency full kbd
Add_dependency full findutils
Add_dependency full net-tools
Add_dependency full rcorder
Add_dependency full minilogd
Add_dependency full dhcpcd

do_install()
{
	install -d ${DESTDIR}/etc/rc.d
	install -d ${DESTDIR}/etc/rc.conf.d
	install -d ${DESTDIR}/etc/defaults

	for f in inittab rc.*; do
		install -m755 ${FILESDIR}/${f} ${DESTDIR}/etc
	done
	install -m644 ${FILESDIR}/defaults/rc.conf ${DESTDIR}/etc/defaults
	install -m755 ${FILESDIR}/rc.d/* ${DESTDIR}/etc/rc.d
}
