# Template file for 'klibc'
pkgname=klibc
sourcepkg=klibc
version=1.5.15
distfiles="${KERNEL_SITE}/libs/klibc/Testing/klibc-$version.tar.bz2"
build_style=gnu_makefile
make_install_target="INSTALLROOT=$XBPS_DESTDIR/$pkgname-$version install"
short_desc="Minimal libc subset for use with initramfs"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=8b5334ef88b075f374b031695181b4302c3e5621bf2737a39fdf28262b0f80f4
long_desc="
 klibc is intended to be a minimalistic libc subset for use with initramfs.
 It is deliberately written for small size, minimal entanglement, and
 portability, not speed. It is definitely a work in progress and a lot of
 things are still missing."

subpackages="devel utils"

Add_dependency build kernel-headers
Add_dependency build bison
Add_dependency build perl

pre_configure()
{
	cd $wrksrc && ln -s $XBPS_MASTERDIR/usr/src/linux linux
}
