Build blkid and findfs and link with -lblkid.
Build uuidd and uuidgen and link with -luuid.

--- misc-utils/Makefile.in.orig	2009-07-16 01:17:47.000000000 +0200
+++ misc-utils/Makefile.in	2009-08-12 11:54:16.836456343 +0200
@@ -48,13 +48,13 @@ usrbin_exec_PROGRAMS = cal$(EXEEXT) ddat
 	look$(EXEEXT) mcookie$(EXEEXT) namei$(EXEEXT) script$(EXEEXT) \
 	whereis$(EXEEXT) scriptreplay$(EXEEXT) $(am__EXEEXT_4) \
 	$(am__EXEEXT_5) $(am__EXEEXT_6) $(am__EXEEXT_7)
-@BUILD_LIBUUID_TRUE@am__append_1 = uuidgen
-@BUILD_LIBUUID_TRUE@am__append_2 = uuidgen.1
-@BUILD_LIBUUID_TRUE@@BUILD_UUIDD_TRUE@am__append_3 = uuidd
-@BUILD_LIBUUID_TRUE@@BUILD_UUIDD_TRUE@am__append_4 = uuidd.8
-@BUILD_LIBBLKID_TRUE@am__append_5 = blkid findfs
-@BUILD_LIBBLKID_TRUE@am__append_6 = blkid.8 findfs.8
-@BUILD_LIBBLKID_TRUE@@HAVE_STATIC_BLKID_TRUE@am__append_7 = blkid.static
+am__append_1 = uuidgen
+am__append_2 = uuidgen.1
+am__append_3 = uuidd
+am__append_4 = uuidd.8
+am__append_5 = blkid findfs
+am__append_6 = blkid.8 findfs.8
+am__append_7 = blkid.static
 @HAVE_NCURSES_TRUE@@LINUX_TRUE@am__append_8 = setterm
 @HAVE_NCURSES_TRUE@@LINUX_TRUE@am__append_9 = setterm.1
 @BUILD_KILL_TRUE@am__append_10 = kill
@@ -85,27 +85,27 @@ am__installdirs = "$(DESTDIR)$(bindir)" 
 	"$(DESTDIR)$(usrbin_execdir)" "$(DESTDIR)$(usrsbin_execdir)" \
 	"$(DESTDIR)$(usrbin_execdir)" "$(DESTDIR)$(usrbin_execdir)" \
 	"$(DESTDIR)$(man1dir)" "$(DESTDIR)$(man8dir)"
-@BUILD_LIBBLKID_TRUE@am__EXEEXT_2 = blkid$(EXEEXT) findfs$(EXEEXT)
-@BUILD_LIBBLKID_TRUE@@HAVE_STATIC_BLKID_TRUE@am__EXEEXT_3 = blkid.static$(EXEEXT)
-@BUILD_LIBUUID_TRUE@am__EXEEXT_4 = uuidgen$(EXEEXT)
+am__EXEEXT_2 = blkid$(EXEEXT) findfs$(EXEEXT)
+am__EXEEXT_3 = blkid.static$(EXEEXT)
+am__EXEEXT_4 = uuidgen$(EXEEXT)
 @HAVE_NCURSES_TRUE@@LINUX_TRUE@am__EXEEXT_5 = setterm$(EXEEXT)
 @BUILD_RENAME_TRUE@am__EXEEXT_6 = rename$(EXEEXT)
 @BUILD_WRITE_TRUE@am__EXEEXT_7 = write$(EXEEXT)
-@BUILD_LIBUUID_TRUE@@BUILD_UUIDD_TRUE@am__EXEEXT_8 = uuidd$(EXEEXT)
+am__EXEEXT_8 = uuidd$(EXEEXT)
 PROGRAMS = $(bin_PROGRAMS) $(sbin_PROGRAMS) $(usrbin_exec_PROGRAMS) \
 	$(usrsbin_exec_PROGRAMS)
 blkid_SOURCES = blkid.c
 blkid_OBJECTS = blkid-blkid.$(OBJEXT)
-@BUILD_LIBBLKID_TRUE@blkid_DEPENDENCIES = $(ul_libblkid_la)
+blkid_DEPENDENCIES = -lblkid
 blkid_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(blkid_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
 	$(LDFLAGS) -o $@
 am__blkid_static_SOURCES_DIST = blkid.c
 am__objects_1 = blkid_static-blkid.$(OBJEXT)
-@BUILD_LIBBLKID_TRUE@@HAVE_STATIC_BLKID_TRUE@am_blkid_static_OBJECTS =  \
-@BUILD_LIBBLKID_TRUE@@HAVE_STATIC_BLKID_TRUE@	$(am__objects_1)
+am_blkid_static_OBJECTS =  \
+	$(am__objects_1)
 blkid_static_OBJECTS = $(am_blkid_static_OBJECTS)
-@BUILD_LIBBLKID_TRUE@@HAVE_STATIC_BLKID_TRUE@blkid_static_DEPENDENCIES = $(ul_libblkid_la)
+blkid_static_DEPENDENCIES = -lblkid
 blkid_static_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) \
 	$(LIBTOOLFLAGS) --mode=link $(CCLD) $(blkid_static_CFLAGS) \
 	$(CFLAGS) $(blkid_static_LDFLAGS) $(LDFLAGS) -o $@
@@ -117,7 +117,7 @@ ddate_OBJECTS = ddate.$(OBJEXT)
 ddate_LDADD = $(LDADD)
 findfs_SOURCES = findfs.c
 findfs_OBJECTS = findfs-findfs.$(OBJEXT)
-@BUILD_LIBBLKID_TRUE@findfs_DEPENDENCIES = $(ul_libblkid_la)
+findfs_DEPENDENCIES = -lblkid
 findfs_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(findfs_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
 	$(LDFLAGS) -o $@
@@ -151,14 +151,13 @@ setterm_OBJECTS = setterm.$(OBJEXT)
 setterm_DEPENDENCIES =
 uuidd_SOURCES = uuidd.c
 uuidd_OBJECTS = uuidd-uuidd.$(OBJEXT)
-@BUILD_LIBUUID_TRUE@@BUILD_UUIDD_TRUE@uuidd_DEPENDENCIES =  \
-@BUILD_LIBUUID_TRUE@@BUILD_UUIDD_TRUE@	$(ul_libuuid_la)
+uuidd_DEPENDENCIES =  -luuid
 uuidd_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(uuidd_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
 	$(LDFLAGS) -o $@
 uuidgen_SOURCES = uuidgen.c
 uuidgen_OBJECTS = uuidgen-uuidgen.$(OBJEXT)
-@BUILD_LIBUUID_TRUE@uuidgen_DEPENDENCIES = $(ul_libuuid_la)
+uuidgen_DEPENDENCIES = -luuid
 uuidgen_LINK = $(LIBTOOL) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) \
 	--mode=link $(CCLD) $(uuidgen_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) \
 	$(LDFLAGS) -o $@
@@ -388,12 +387,12 @@ dist_noinst_DATA = $(dist_man_MANS)
 # blkid
 ul_libblkid_srcdir = $(top_srcdir)/shlibs/blkid/src
 ul_libblkid_builddir = $(top_builddir)/shlibs/blkid/src
-ul_libblkid_la = $(top_builddir)/shlibs/blkid/src/libblkid.la
+ul_libblkid_la = -lblkid
 
 # uuid
 ul_libuuid_srcdir = $(top_srcdir)/shlibs/uuid/src
 ul_libuuid_builddir = $(top_builddir)/shlibs/uuid/src
-ul_libuuid_la = $(top_builddir)/shlibs/uuid/src/libuuid.la
+ul_libuuid_la = -luuid
 EXTRA_DIST = README.flushb uuidd.rc README.cal README.ddate \
 	README.namei README.namei2 README.reset reset.033c
 mcookie_SOURCES = mcookie.c ../lib/md5.c
@@ -404,18 +403,18 @@ dist_man_MANS = cal.1 chkdupexe.1 ddate.
 	$(am__append_4) $(am__append_6) $(am__append_9) \
 	$(am__append_11) $(am__append_13) $(am__append_14) \
 	$(am__append_16)
-@BUILD_LIBUUID_TRUE@uuidgen_LDADD = $(ul_libuuid_la)
-@BUILD_LIBUUID_TRUE@uuidgen_CFLAGS = -I$(ul_libuuid_srcdir)
-@BUILD_LIBUUID_TRUE@@BUILD_UUIDD_TRUE@uuidd_LDADD = $(ul_libuuid_la)
-@BUILD_LIBUUID_TRUE@@BUILD_UUIDD_TRUE@uuidd_CFLAGS = -I$(ul_libuuid_srcdir)
-@BUILD_LIBBLKID_TRUE@blkid_LDADD = $(ul_libblkid_la)
-@BUILD_LIBBLKID_TRUE@blkid_CFLAGS = -I$(ul_libblkid_srcdir)
-@BUILD_LIBBLKID_TRUE@findfs_LDADD = $(ul_libblkid_la)
-@BUILD_LIBBLKID_TRUE@findfs_CFLAGS = -I$(ul_libblkid_srcdir)
-@BUILD_LIBBLKID_TRUE@@HAVE_STATIC_BLKID_TRUE@blkid_static_SOURCES = $(blkid_SOURCES)
-@BUILD_LIBBLKID_TRUE@@HAVE_STATIC_BLKID_TRUE@blkid_static_LDFLAGS = "-all-static"		# libtool option
-@BUILD_LIBBLKID_TRUE@@HAVE_STATIC_BLKID_TRUE@blkid_static_LDADD = $(ul_libblkid_la)
-@BUILD_LIBBLKID_TRUE@@HAVE_STATIC_BLKID_TRUE@blkid_static_CFLAGS = -I$(ul_libblkid_srcdir)
+uuidgen_LDADD = $(ul_libuuid_la)
+uuidgen_CFLAGS = -I$(ul_libuuid_srcdir)
+uuidd_LDADD = $(ul_libuuid_la)
+uuidd_CFLAGS = -I$(ul_libuuid_srcdir)
+blkid_LDADD = $(ul_libblkid_la)
+blkid_CFLAGS = -I$(ul_libblkid_srcdir)
+findfs_LDADD = $(ul_libblkid_la)
+findfs_CFLAGS = -I$(ul_libblkid_srcdir)
+blkid_static_SOURCES = $(blkid_SOURCES)
+blkid_static_LDFLAGS = "-all-static"		# libtool option
+blkid_static_LDADD = $(ul_libblkid_la) $(ul_libuuid_la)
+blkid_static_CFLAGS = -I$(ul_libblkid_srcdir)
 @HAVE_NCURSES_FALSE@@HAVE_TERMCAP_TRUE@@HAVE_TINFO_FALSE@cal_LDADD = -ltermcap
 @HAVE_NCURSES_TRUE@@HAVE_TINFO_FALSE@cal_LDADD = @NCURSES_LIBS@
 @HAVE_TINFO_TRUE@cal_LDADD = -ltinfo @NCURSES_LIBS@
