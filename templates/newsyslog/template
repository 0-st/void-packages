# Template file for 'newsyslog'
pkgname=newsyslog
version=1.8
revision=1
distfiles="http://archives.eyrie.org/software/system/$pkgname-$version.tar.gz"
build_style=gnu_configure
configure_args="--sbindir=/sbin"
short_desc="Log file rotation and periodic maintenance"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=f400e88fff61b0df03054122dcaf54560f8fcf2793ac60a47268326eeeaeaf19
long_desc="
 $pkgname performs periodic maintenance of log files. The most common
 action is rotating log files and archiving the old logs to one or more
 places, but it can also periodically copy logs to a central repository
 without truncating them. It can run commands both before and after log
 rotation to handle stopping, restarting, or sending signals to servers,
 and it automatically compresses logs when it archives them."

conf_files="/etc/newsyslog.conf"

Add_dependency full glibc
Add_dependency full zlib
Add_dependency full bzip2

post_install()
{
	install -D -m755 ${FILESDIR}/newsyslog ${DESTDIR}/etc/rc.d/newsyslog
	install -D -m644 ${FILESDIR}/newsyslog.conf \
		${DESTDIR}/etc/newsyslog.conf
	install -D -m744 ${FILESDIR}/newsyslog.cron-hourly \
		${DESTDIR}/etc/cron.hourly/newsyslog
}
