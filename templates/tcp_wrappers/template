# Template file for 'tcp_wrappers'
pkgname=tcp_wrappers
version=7.6
wrksrc="${pkgname}_${version}"
patch_files="shared_lib_plus_plus-1.diff"
patch_args="-Np1"
distfiles="ftp://ftp.porcupine.org/pub/security/${pkgname}_${version}.tar.gz"
build_style=gnu_makefile
make_build_target="REAL_DAEMON_DIR=/usr/sbin STYLE=-DSYS_ERRLIST_DEFINED linux"
short_desc="A security tool which acts as a wrapper for TCP daemons"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=9543d7adedf78a6de0b221ccbbd1952e08b5138717f4ade814039bb489a4315d
long_desc="
 The $pkgname package provides small daemon programs which can
 monitor and filter incoming requests for systat, finger, FTP, telnet,
 rlogin, rsh, exec, tftp, talk and other network services."

subpackages="devel libs"

Add_dependency run glibc
Add_dependency run tcp_wrappers-libs

pre_install()
{
	install -d ${DESTDIR}/usr/lib
	install -d ${DESTDIR}/usr/sbin
	install -d ${DESTDIR}/usr/include
	for f in 3 5 8; do
		install -d ${DESTDIR}/usr/share/man/man${f}
	done
	install -D -m644 ${FILESDIR}/hosts.allow ${DESTDIR}/etc/hosts.allow
	install -m644 ${FILESDIR}/hosts.deny ${DESTDIR}/etc/hosts.deny
}
