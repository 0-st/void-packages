# Template file for 'lumina
pkgname=lumina
version=0.8.6
revision=1
wrksrc=lumina-qt5-${version}
hostmakedepends="qt5-qmake qt5-tools"
makedepends="qt5-devel qt5-x11extras-devel qt5-multimedia-devel qt5-svg-devel
 qt5-declarative-devel libXrender-devel libXcomposite-devel libXdamage-devel
 xcb-util-devel xcb-util-wm-devel xcb-util-image-devel"
depends="fluxbox numlockx xbacklight alsa-utils acpi xscreensaver oxygen-icons"
short_desc="Lumina Desktop Environment"
maintainer="Christian Neukirchen <chneukirchen@gmail.com>"
license="BSD"
homepage="https://github.com/pcbsd/lumina"
distfiles="https://github.com/pcbsd/lumina/archive/qt5/${version}.tar.gz"
checksum=3cbe83615b965f1b888d5b76aef0606bdc7c9a9a8219e22a4175f4b8cf0783fc
disable_parallel_build=yes
replaces="lumina-git>=0"

do_configure() {
	qmake PREFIX=/usr QT5LIBDIR=/usr/lib/qt5
}

do_build() {
	make ${makejobs}
}

do_install() {
	make INSTALL_ROOT=${DESTDIR} install
	vlicense LICENSE
}

lumina-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" -- development files"
	pkg_install() {
		vmove usr/include
		vmove "usr/lib/*.so"
	}
}
