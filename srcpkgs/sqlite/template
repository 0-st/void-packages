# Template build file for 'sqlite'.
pkgname=sqlite
version=3.6.22
distfiles="http://sqlite.org/$pkgname-$version.tar.gz"
build_style=gnu_configure
configure_env="CPPFLAGS=-DSQLITE_ENABLE_COLUMN_METADATA=1 LIBS=-ldl"
configure_args="--enable-load-extension --enable-threadsafe
 --enable-threads-override-locks --enable-cross-thread-connections"
short_desc="SQL Database Engine in a C Library"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=c8cc19895caeb4398e74c815531f5c9710b983523f7308bc80639999a1cf57f6
long_desc="
 SQLite is a C library that implements an SQL database engine. Programs
 that link with the SQLite library can have SQL database access without
 running a separate RDBMS process. The distribution comes with a standalone
 command-line access program (sqlite) that can be used to administer an
 SQLite database and which serves as an example of how to use the SQLite
 library.

 SQLite is not a client library used to connect to a big database server.
 SQLite is the server. The SQLite library reads and writes directly to and
 from the database files on disk."

subpackages="$pkgname-devel $pkgname-tcl"
Add_dependency run glibc
Add_dependency run readline
Add_dependency build readline-devel
Add_dependency build tcl-devel

post_install()
{
	# Install the manpage
	install -D -m644 ${wrksrc}/sqlite3.1 \
		${DESTDIR}/usr/share/man/man1/sqlite3.1
}
