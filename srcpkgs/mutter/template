# Template file for 'mutter'
pkgname=mutter
version=3.0.2
distfiles="${GNOME_SITE}/$pkgname/3.0/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--localstatedir=/var --disable-scrollkeeper
--with-gconf-schema-file-dir=/usr/share/gconf/schemas
--disable-schemas-install"
short_desc="Lightweight GTK+3 window manager"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=5d9a02515ac4a74938f091bba08b4fbabe50e6e96e09ec4500ba799f390a5bf8
long_desc="
 Mutter is a small window manager, using GTK+ and Clutter to do everything.

 Mutter is the clutter-based evolution of Metacity, which, as the author says,
 is a 'Boring window manager for the adult in you. Many window managers are
 like Marshmallow Froot Loops; Metacity is like Cheerios.'"

gconf_schemas="mutter.schemas"
subpackages="mutter-devel"

Add_dependency run glibc
Add_dependency run gtk+3
Add_dependency run glib
Add_dependency run libX11
Add_dependency run gdk-pixbuf
Add_dependency run GConf
Add_dependency run startup-notification
Add_dependency run libcanberra
Add_dependency run libXrender
Add_dependency run clutter
Add_dependency run atk
Add_dependency run pango
Add_dependency run MesaLib
Add_dependency run libXdamage
Add_dependency run libXcomposite
Add_dependency run cairo
Add_dependency run libXfixes
Add_dependency run libgirepository
Add_dependency run libXcursor
Add_dependency run libXrandr
Add_dependency run libSM
Add_dependency run libICE
Add_dependency run libXext
Add_dependency run libXinerama
Add_dependency run json-glib
Add_dependency run libpng
Add_dependency run libdrm
Add_dependency run libXi
Add_dependency run freetype
Add_dependency run fontconfig
Add_dependency run libffi

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build gnome-doc-utils
Add_dependency build gtk+3-devel
Add_dependency build glib-devel
Add_dependency build libX11-devel
Add_dependency build gdk-pixbuf-devel
Add_dependency build GConf-devel
Add_dependency build startup-notification-devel
Add_dependency build libcanberra-devel
Add_dependency build libXrender-devel
Add_dependency build clutter-devel
Add_dependency build atk-devel
Add_dependency build pango-devel
Add_dependency build MesaLib-devel
Add_dependency build libXdamage-devel
Add_dependency build libXcomposite-devel
Add_dependency build cairo-devel
Add_dependency build libXfixes-devel
Add_dependency build libgirepository-devel
Add_dependency build libXcursor-devel
Add_dependency build libXrandr-devel
Add_dependency build libSM-devel
Add_dependency build libICE-devel
Add_dependency build libXext-devel
Add_dependency build libXinerama-devel
Add_dependency build json-glib-devel
Add_dependency build libpng-devel
Add_dependency build libdrm-devel
Add_dependency build libXi-devel
Add_dependency build freetype-devel
Add_dependency build fontconfig-devel
Add_dependency build libffi-devel

Add_dependency full desktop-file-utils

post_install()
{
	mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
	gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/${gconf_schemas} \
		--domain ${pkgname} ${wrksrc}/*.schemas
}
