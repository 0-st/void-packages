# Template file for 'mutter'
pkgname=mutter
version=3.2.1
revision=3
distfiles="${GNOME_SITE}/$pkgname/3.2/$pkgname-$version.tar.xz"
build_style=gnu-configure
configure_args="--disable-scrollkeeper
--with-gconf-schema-file-dir=/usr/share/gconf/schemas
--disable-schemas-install"
short_desc="Lightweight GTK+3 window manager"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=d6135d5e6c0852f7dc996798e9455fc2e9cbe6d2672f3750fc9b8d27ab141294
long_desc="
 Mutter is a small window manager, using GTK+ and Clutter to do everything.

 Mutter is the clutter-based evolution of Metacity, which, as the author says,
 is a 'Boring window manager for the adult in you. Many window managers are
 like Marshmallow Froot Loops; Metacity is like Cheerios.'"

gconf_schemas="mutter.schemas"
subpackages="mutter-devel"

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build gnome-doc-utils
Add_dependency build gtk+3-devel
Add_dependency build GConf-devel
Add_dependency build startup-notification-devel
Add_dependency build libcanberra-devel
Add_dependency build clutter-devel
Add_dependency build libgirepository-devel
Add_dependency build json-glib-devel
Add_dependency build libffi-devel

Add_dependency full zenity
Add_dependency full desktop-file-utils

post_install()
{
	mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
	gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/${gconf_schemas} \
		--domain ${pkgname} ${wrksrc}/*.schemas
}
