# Template build file for 'gmp'
pkgname=gmp
version=5.1.0a
revision=1
wrksrc="gmp-5.1.0"
makedepends="automake"
crossmakedepends="zlib-devel"
subpackages="gmp-devel"
build_style=gnu-configure
# Build with -fexceptions as suggested by ppl.
CPPFLAGS="-fexceptions"
if [ "${XBPS_MACHINE}" = "i686" ]; then
	cnfigure_args="ABI=32"
fi
configure_args="${configure_args} --enable-cxx --build=${XBPS_MACHINE}-unknown-linux-gnu"
short_desc="Library for arbitrary precision arithmetic"
maintainer="Juan RP <xtraeme@gmail.com>"
license="LGPL-3"
homepage="http://gmplib.org/"
distfiles="ftp://ftp.gmplib.org/pub/gmp-5.1.0/gmp-${version}.tar.xz"
checksum=0f6c0dc6346a1dc906a3c628118dcc1f44607f2100fbd03b2e457e4138384731

pre_configure() {
	sed -e "s|AM_CONFIG_HEADER|AC_CONFIG_HEADERS|g" -i configure.in
	autoreconf -fi
}
