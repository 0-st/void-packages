# Template file for 'libva'
pkgname=libva
version=1.0.15
distfiles="http://cgit.freedesktop.org/libva/snapshot/libva-$version.tar.bz2"
build_style=gnu-configure
short_desc="Video Acceleration (VA) API"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://freedesktop.org/wiki/Software/vaapi"
license="MIT"
checksum=7cc24ae9c947aa13904255244810d3637b03d41e2b6f4b643db3b97412cacd37
long_desc="
 The main motivation for VA-API (Video Acceleration API) is to enable hardware
 accelerated video decode/encode at various entry-points (VLD, IDCT, Motion
 Compensation etc.) for the prevailing coding standards today (MPEG-2,
 MPEG-4 ASP/H.263, MPEG-4 AVC/H.264, and VC-1/VMW3)."

subpackages="$pkgname-devel"
Add_dependency run glibc
Add_dependency run libX11
Add_dependency run libXext
Add_dependency run libdrm
Add_dependency run libXfixes
Add_dependency run MesaLib
Add_dependency run libva-intel-driver ">=${version}" # Intel graphics backend
Add_dependency run vdpau-video	# VDPAU backend

Add_dependency build pkg-config
Add_dependency build automake
Add_dependency build libXfixes-devel
Add_dependency build MesaLib-devel

pre_configure() {
	autoreconf -fiv
}

post_install() {
	vinstall COPYING 644 usr/share/licenses/${pkgname}
}
