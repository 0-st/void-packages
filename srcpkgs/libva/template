# Template file for 'libva'
pkgname=libva
_distver=1.1.0
version=1:${_distver}
revision=2
wrksrc="${pkgname}-${_distver}"
build_style=gnu-configure
configure_args="--disable-static"
hostmakedepends="pkg-config"
makedepends="libXfixes-devel MesaLib-devel"
short_desc="Video Acceleration (VA) API"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://freedesktop.org/wiki/Software/vaapi"
license="MIT"
distfiles="http://www.freedesktop.org/software/vaapi/releases/libva/libva-${_distver}.tar.bz2"
checksum=db6adc24a6f02f234a823dd8ced4a7e38084581f4ae02b6aac10716e523cefa8
long_desc="
 The main motivation for VA-API (Video Acceleration API) is to enable hardware
 accelerated video decode/encode at various entry-points (VLD, IDCT, Motion
 Compensation etc.) for the prevailing coding standards today (MPEG-2,
 MPEG-4 ASP/H.263, MPEG-4 AVC/H.264, and VC-1/VMW3)."

post_install() {
	vinstall COPYING 644 usr/share/licenses/${pkgname}
}

libva-devel_package() {
	depends="libva-${version}_${revision}"
	short_desc="${short_desc} - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
	}
}

libva_package() {
	pkg_install() {
		vmove usr
	}
}
