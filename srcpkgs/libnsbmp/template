# Template build file for 'libnsbmp'.
pkgname=libnsbmp
version=0.0.3
revision=2
homepage="http://www.netsurf-browser.org"
distfiles="${homepage}/projects/releases/${pkgname}-${version}-src.tar.gz"
short_desc="Decoding library for BMP and ICO images in C."
maintainer="davehome <davehome@redthumb.info.tm>"
checksum=e0ccf851bf6dc9398b587f1b3f919773a49d7d2eb082b99ab5898217d73e47a2
license="MIT"
long_desc="
 libnsbmp is a decoding library for BMP and ICO image file formats, written
 in C. It was developed as part of the NetSurf project and is available for
 use by other software under the MIT licence.

 * Features
 	Decodes BMP files
 	Decodes ICO files"

subpackages="${pkgname}-devel"

wrksrc=${pkgname}-${version}-src


do_build() {
	make ${makejobs} COMPONENT_TYPE=lib-shared
	make ${makejobs} COMPONENT_TYPE=lib-static
}

do_install() {
	make ${makejobs} COMPONENT_TYPE=lib-shared \
		DESTDIR=${DESTDIR} PREFIX=/usr install
	make ${makejobs} COMPONENT_TYPE=lib-static \
		DESTDIR=${DESTDIR} PREFIX=/usr install

	vinstall "${wrksrc}/COPYING" 0644 "usr/share/licenses/${pkgname}"
}
