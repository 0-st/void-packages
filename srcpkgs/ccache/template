# Template file for 'ccache'
pkgname=ccache
version=3.1.6
revision=2
distfiles="http://samba.org/ftp/$pkgname/$pkgname-$version.tar.bz2"
build_style=gnu-configure
short_desc="compiler cache"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://cache.samba.org"
license="GPL-2"
checksum=1e333149f30671499513e22fb6ec41c485003cad82802fb4c064fa219194ebf3
long_desc="
 ccache is a compiler cache. It speeds up recompilation by caching previous
 compilations and detecting when the same compilation is being done again.
 Supported languages are C, C++, Objective-C and Objective-C++."

bootstrap=yes
Add_dependency run glibc
Add_dependency run zlib
Add_dependency build zlib-devel

if [ -n "$BOOTSTRAP_PKG_REBUILD" ]; then
	Add_dependency build coreutils
fi

post_install()
{
	vmkdir usr/lib/ccache/bin
	cd ${DESTDIR}/usr/lib/ccache/bin
	for f in cc c++ cpp g++; do
		ln -sf ../../../bin/ccache ${f}
	done
}
