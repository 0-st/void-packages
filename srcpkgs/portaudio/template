# Template file for 'portaudio'
pkgname=portaudio
version=19.20110326
revision=7
wrksrc=portaudio
build_style=gnu-configure
configure_args="--enable-cxx --with-jack"
homepage="http://www.portaudio.com"
license="PA, GPL"
short_desc="Portable cross-platform audio i/o library"
maintainer="davehome <davehome@redthumb.info.tm>"
distfiles="http://www.${pkgname}.com/archives/pa_stable_v19_20110326.tgz"
checksum=328a89adc42c66840641d2d557d01e8bd9e6be32e12d3802e3b638e0791de540

disable_parallel_build=yes
makedepends="alsa-lib-devel jack-devel"

portaudio-devel_package() {
	depends="portaudio>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove "usr/include/*.h"
		vmove usr/lib/libportaudio.a
		vmove usr/lib/libportaudio.so
		vmove usr/lib/pkgconfig/portaudio-2.0.pc
	}
}

portaudiocpp_package() {
	short_desc+=" - C++ Bindings"
	pkg_install() {
		vmove "usr/lib/libportaudiocpp.so.*"
	}
}

portaudiocpp-devel_package() {
	depends="portaudiocpp>=${version} portaudio-devel>=${version}_${revision}"
	short_desc+=" - C++ bindings development files"
	pkg_install() {
		vmove usr/include/portaudiocpp
		vmove usr/lib/pkgconfig/portaudiocpp.pc
		vmove usr/lib/libportaudiocpp.a
		vmove usr/lib/libportaudiocpp.so
	}
}
