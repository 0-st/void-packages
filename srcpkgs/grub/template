# Template file for 'grub'
pkgname=grub
_distver=1.99
_patchver=rc2
version=${_distver}${_patchver}
wrksrc="grub-${_distver}~${_patchver}"
distfiles="ftp://alpha.gnu.org/gnu/grub/grub-${_distver}~${_patchver}.tar.gz"
build_style=gnu_configure
short_desc="GRand Unified Bootloader 2"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=ea8f243c95851d58d34ac04910929395790e9b9383d6deb2bb6750435bc3e7bd
long_desc="
 This is GRUB 2, the second version of the GRand Unified Bootloader.
 GRUB 2 is rewritten from scratch to make GNU GRUB cleaner, safer, more
 robust, more powerful, and more portable."

conf_files="/etc/default/grub /etc/grub.d/40_custom"

Add_dependency run glibc
Add_dependency run zlib
Add_dependency run libusb-compat
Add_dependency run ncurses-libs
Add_dependency run freetype
Add_dependency run liblzma
Add_dependency run device-mapper
Add_dependency build bison
Add_dependency build zlib-devel
Add_dependency build libusb-compat-devel
Add_dependency build ncurses-devel
Add_dependency build freetype-devel
Add_dependency build ruby
Add_dependency build liblzma-devel
Add_dependency build device-mapper-devel
Add_dependency full os-prober

post_install()
{
	install -d ${DESTDIR}/etc/default
	install -m644 ${FILESDIR}/grub.default ${DESTDIR}/etc/default/grub
}
