# Template file for 'grub'
pkgname=grub
version=1.97.2
distfiles="ftp://alpha.gnu.org/gnu/grub/grub-$version.tar.gz"
build_style=gnu_configure
configure_args="--enable-grub-emu --enable-grub-emu-usb
 --enable-grub-fstest --enable-grub-pe2elf --enable-grub-mkfont"
short_desc="GRand Unified Bootloader 2"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=98c1d2623ce809ec25ba9136ea59c15a4580c71478d122be765e819cb06a1c49
long_desc="
 This is GRUB 2, the second version of the GRand Unified Bootloader.
 GRUB 2 is rewritten from scratch to make GNU GRUB cleaner, safer, more
 robust, more powerful, and more portable."

conf_files="/etc/default/grub /etc/grub.d/40_custom"

Add_dependency run glibc
Add_dependency run zlib
Add_dependency run libusb-compat
Add_dependency run ncurses-libs
Add_dependency run freetype
Add_dependency build bison
Add_dependency build zlib-devel
Add_dependency build libusb-compat-devel
Add_dependency build ncurses-devel
Add_dependency build freetype-devel
Add_dependency build ruby

post_install()
{
	install -d ${DESTDIR}/etc/default
	install -m644 ${FILESDIR}/grub.default ${DESTDIR}/etc/default/grub
}
