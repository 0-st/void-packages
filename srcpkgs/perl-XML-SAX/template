# Template build file for 'perl-XML-SAX'.
pkgname=perl-XML-SAX
version=0.96
revision=2
wrksrc="XML-SAX-$version"
distfiles="${CPAN_SITE}/XML/XML-SAX-$version.tar.gz"
build_style=perl_module
short_desc="Perl interface to the SAX2 XML Parser"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=9bbef613afa42c46df008d537decc5a61df7e92d65463f3c900769f39e5c8e08
long_desc="
 This module provides ways to parse XML documents. It is built on top of
 XML::SAX::Expat, which is a lower level interface to James Clark's
 expat library."

noarch=yes
Add_dependency full perl
Add_dependency full perl-XML-NamespaceSupport

post_stow()
{
	# Register the SAX parsers into the registry.
	LC_ALL=C perl -MXML::SAX -e \
		"XML::SAX->add_parser(q(XML::SAX::PurePerl))->save_parsers()" \
		2>&1 >/dev/null
	[ $? -eq 0 ] && msg_normal "Added parser to XML::SAX registry.\n"
}

pre_remove()
{
	env LC_ALL=C perl -MXML::SAX -e \
		"XML::SAX->remove_parser(q(XML::SAX::PurePerl))->save_parsers()" \
		2>&1 >/dev/null
	[ $? -eq 0 ] && msg_normal "Removed parser from XML::SAX registry.\n"
}
