# Template file for 'jack'
pkgname=jack
version=1.9.7
distfiles="http://www.grame.fr/~letz/${pkgname}-${version}.tar.bz2"
build_style=custom-install
short_desc="JACK Audio Connection Kit low-latency sound server (pro audio)"
maintainer="davehome <davehome@redthumb.info.tm>"
checksum=096f57ad4d2eb38bd5aa4267f4088da0726ab65a5747d1345bb69fb504b2ec05
long_desc="
 JACK is system for handling real-time, low latency audio (and MIDI). It runs
 on GNU/Linux, Solaris, FreeBSD, OS X and Windows (and can be ported to other
 POSIX-conformant platforms). It can connect a number of different
 applications to an audio device, as well as allowing them to share audio
 between themselves. Its clients can run in their own processes (ie. as normal
 applications), or can they can run within the JACK server (ie. as a plugin).
 JACK also has support for distributing audio processing across a network,
 both fast and reliable LANs as well as slower, less reliable WANs.

 JACK was designed from the ground up for professional audio work, and its
 design focuses on two key areas: synchronous execution of all clients, and
 low latency operation."

subpackages="lib$pkgname $pkgname-devel"

Add_dependency run glibc
Add_dependency run libstdc++
Add_dependency run libgcc
Add_dependency run libsamplerate
Add_dependency run readline
Add_dependency run ncurses-libs
Add_dependency run alsa-lib
Add_dependency run dbus-libs
Add_dependency run expat
Add_dependency run libsndfile
Add_dependency run libjack

Add_dependency build python
Add_dependency build pkg-config
Add_dependency build libstdc++-devel
Add_dependency build glibc-devel
Add_dependency build libsamplerate-devel
Add_dependency build readline-devel
Add_dependency build ncurses-devel
Add_dependency build alsa-lib-devel
Add_dependency build dbus-devel
Add_dependency build expat-devel
Add_dependency build libsndfile-devel

do_configure()
{
	./waf configure --prefix=/usr \
		--alsa --classic --dbus
}

do_build()
{
	./waf build
}

do_install()
{
	./waf install --destdir=${DESTDIR}
}

