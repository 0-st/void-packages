# Template file for 'enlightenment'
pkgname=enlightenment
_distver=0.18.0
_patchver=alpha4
version="${_distver}${_patchver}"
wrksrc="${pkgname}-${_distver}-${_patchver}"
revision=1
build_style=gnu-configure
hostmakedepends="pkg-config"
makedepends="efl-devel>=1.8.1 elementary-devel>=1.8.0 hicolor-icon-theme desktop-file-utils"
homepage="http://enlightenment.org"
short_desc="Enlightenment desktop"
maintainer="Juan RP <xtraeme@gmail.com>"
license="BSD"
distfiles="http://download.enlightenment.org/rel/apps/${pkgname}/${pkgname}-${_distver}-${_patchver}.tar.bz2"
checksum=8a45a0ee7b41e8dd8ade7c87ba304729670bbba79079bbf0febb2f75673511d6

post_install() {
	# Fix issue #131.
	#sed -e 's,\(Name.*=\).*,\1Enlightenment,g' -i ${DESTDIR}/usr/share/xsessions/enlightenment.desktop

	vmkdir usr/share/licenses/${pkgname}
	install -m644 COPYING* ${DESTDIR}/usr/share/licenses/${pkgname}
	vinstall ${FILESDIR}/e-applications.menu 644 etc/xdg/menus
	rm -rf ${DESTDIR}/usr/share/${pkgname}/doc
}

enlightenment-devel_package() {
	depends="efl-devel>=1.8.1 elementary-devel>=1.8.0 ${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
	}
}

enlightenment_package() {
	conf_files="/etc/enlightenment/sysactions.conf"
	provides="notification-daemon-0_1"
	depends="hicolor-icon-theme desktop-file-utils evas_generic_loaders>=1.8 emotion_generic_players>=1.8"
	pkg_install() {
		vmove all
	}
}
