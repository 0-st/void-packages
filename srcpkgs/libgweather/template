# Template file for 'libgweather'
pkgname=libgweather
version=3.2.0
distfiles="${GNOME_SITE}/$pkgname/3.2/$pkgname-$version.tar.xz"
build_style=gnu_configure
configure_args="--disable-schemas-install --localstatedir=/var
--with-gconf-schema-file-dir=/usr/share/gconf/schemas
--enable-locations-compression --with-zoneinfo-dir=/usr/share/zoneinfo"
short_desc="Weather information access library"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=7fdae4aad787759ed0d0124d66991311a24c8c9a3c9a46c56f62e4cc4575aea9
long_desc="
 libgweather is a library to access weather information from online
 services for numerous locations."

gconf_schemas="gweather.schemas"
gtk_iconcache_dirs="/usr/share/icons/gnome"
subpackages="$pkgname-devel"

Add_dependency run glibc
Add_dependency run glib
Add_dependency run atk
Add_dependency run pango
Add_dependency run gdk-pixbuf
Add_dependency run libpng
Add_dependency run cairo
Add_dependency run freetype
Add_dependency run fontconfig
Add_dependency run libxml2
Add_dependency run gtk+3
Add_dependency run libsoup
Add_dependency run libsoup-gnome
Add_dependency run GConf
Add_dependency run gnome-icon-theme

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build libxml2-devel
Add_dependency build gtk+3-devel
Add_dependency build libsoup-devel
Add_dependency build libsoup-gnome-devel
Add_dependency build GConf-devel

post_install()
{
	mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
	gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/${gconf_schemas} \
		--domain ${pkgname}-3.0 ${wrksrc}/*.schemas
}
