# Template file for 'libgweather'
pkgname=libgweather
version=3.2.1
homepage="http://www.gnome.org/"
distfiles="${GNOME_SITE}/$pkgname/3.2/$pkgname-$version.tar.xz"
build_style=gnu-configure
configure_args="--disable-schemas-install
--with-gconf-schema-file-dir=/usr/share/gconf/schemas
--enable-locations-compression --with-zoneinfo-dir=/usr/share/zoneinfo"
revision=2
short_desc="Weather information access library"
maintainer="Juan RP <xtraeme@gmail.com>"
license="LGPL-2.1"
checksum=495f6d0f79947d6e601db3220360b1fcd6ae43608cd1571be5bcd5c05b7388d5
long_desc="
 libgweather is a library to access weather information from online
 services for numerous locations."

gconf_schemas="gweather.schemas"
gtk_iconcache_dirs="/usr/share/icons/gnome"
subpackages="$pkgname-devel"

Add_dependency full gnome-icon-theme

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build libxml2-devel
Add_dependency build gtk+3-devel
Add_dependency build libsoup-devel
Add_dependency build libsoup-gnome-devel
Add_dependency build GConf-devel

post_install()
{
	mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
	gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/${gconf_schemas} \
		--domain ${pkgname}-3.0 ${wrksrc}/*.schemas
}
