# Template file for 'libgweather'
pkgname=libgweather
version=3.0.0
distfiles="${GNOME_SITE}/$pkgname/3.0/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--disable-schemas-install --localstatedir=/var
--with-gconf-schema-file-dir=/usr/share/gconf/schemas
--enable-locations-compression --with-zoneinfo-dir=/usr/share/zoneinfo"
short_desc="Weather information access library"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=f13eb69c6ec8c4db08a78ffe980a5dd0e194894d411691a6821a068c650d1545
long_desc="
 libgweather is a library to access weather information from online
 services for numerous locations."

gconf_schemas="gweather.schemas"
gtk_iconcache_dirs="/usr/share/icons/gnome"
subpackages="$pkgname-devel"

Add_dependency run glibc
Add_dependency run glib
Add_dependency run atk
Add_dependency run pango
Add_dependency run gdk-pixbuf
Add_dependency run libpng
Add_dependency run cairo
Add_dependency run freetype
Add_dependency run fontconfig
Add_dependency run libxml2
Add_dependency run gtk+3
Add_dependency run libsoup
Add_dependency run libsoup-gnome
Add_dependency run GConf

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build glib-devel
Add_dependency build atk-devel
Add_dependency build pango-devel
Add_dependency build gdk-pixbuf-devel
Add_dependency build libpng-devel
Add_dependency build cairo-devel
Add_dependency build freetype-devel
Add_dependency build fontconfig-devel
Add_dependency build libxml2-devel
Add_dependency build gtk+3-devel
Add_dependency build libsoup-devel
Add_dependency build libsoup-gnome-devel
Add_dependency build GConf-devel

Add_dependency full gnome-icon-theme

post_install()
{
	mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
	gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/${gconf_schemas} \
		--domain ${pkgname}-3.0 ${wrksrc}/*.schemas
}
