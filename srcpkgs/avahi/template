# Template file for 'avahi'
pkgname=avahi
version=0.6.31
revision=6
homepage="http://www.avahi.org"
distfiles="$homepage/download/avahi-$version.tar.gz"
build_style=gnu-configure
configure_args="--disable-qt3 --disable-qt4 --disable-mono --disable-monodoc
--disable-doxygen-doc --enable-compat-libdns_sd --enable-compat-howl
--with-xml=expat --with-avahi-user=avahi --with-avahi-group=avahi
--with-avahi-priv-access-group=netdev --with-autoipd-user=avahi
--with-autoipd-group=avahi --with-distro=none --disable-xmltoman
--disable-dbm --with-systemdsystemunitdir=/lib/systemd/system"
depends="dbus"
makedepends="pkg-config intltool libssp-devel dbus-devel libcap-devel
libdaemon-devel gdbm-devel expat-devel pygtk-devel dbus-python
gtk+3-devel gobject-introspection"
short_desc="Multicast DNS Service Discovery"
maintainer="Juan RP <xtraeme@gmail.com>"
license="LGPL-2.1"
checksum=8372719b24e2dd75de6f59bb1315e600db4fd092805bd1201ed0cb651a2dab48
long_desc="
 Avahi is a fully LGPL framework for Multicast DNS Service Discovery.
 It allows programs to publish and discover services and hosts running on a
 local network with no specific configuration. For example you can plug into
 a network and instantly find printers to print to, files to look at and
 people to talk to."

# Create avahi and netdev system accounts.
system_accounts="avahi netdev"
systemd_services="avahi-daemon.service on"
conf_files="
/etc/avahi/services/ssh.service
/etc/avahi/services/sftp-ssh.service
/etc/avahi/avahi-daemon.conf
/etc/avahi/hosts
/etc/avahi/avahi-dnsconfd.action"

subpackages="avahi-autoipd avahi-discover avahi-compat-libs avahi-compat-libs-devel"
subpackages="$subpackages avahi-libs avahi-libs-devel avahi-glib-libs avahi-glib-libs-devel"
subpackages="$subpackages avahi-ui-libs avahi-ui-libs-gtk3 avahi-ui-libs-devel avahi-utils"
subpackages="$subpackages avahi-ui-utils avahi-python-utils avahi-python"
