# Template file for 'gnome-terminal'
pkgname=gnome-terminal
version=3.0.1
distfiles="${GNOME_SITE}/$pkgname/3.0/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--disable-schemas-install --disable-scrollkeeper
--with-gconf-schema-file-dir=/usr/share/gconf/schemas
--localstatedir=/var --with-gtk=3.0"
short_desc="The GNOME terminal emulator application"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=388eda40663566cb785e2d92180e0b584c2c89acc3e7bcd30605601710fddc48
long_desc="
 GNOME Terminal is a terminal emulation application that you can use to
 perform the following actions:

  - Access a UNIX shell in the GNOME environment.
  - Run any application that is designed to run on VT102, VT220,
    and xterm terminals.

 GNOME Terminal features the ability to use multiple terminals in a single
 window (tabs) and profiles support." 

gconf_schemas="$pkgname.schemas"

Add_dependency run glibc
Add_dependency run glib
Add_dependency run atk
Add_dependency run pango
Add_dependency run cairo
Add_dependency run freetype
Add_dependency run fontconfig
Add_dependency run dbus-libs
Add_dependency run dbus-glib
Add_dependency run libSM
Add_dependency run libICE
Add_dependency run libX11
Add_dependency run libpng
Add_dependency run gdk-pixbuf
Add_dependency run gtk+3
Add_dependency run vte3
Add_dependency run GConf

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build gnome-doc-utils
Add_dependency build glib-devel
Add_dependency build atk-devel
Add_dependency build pango-devel
Add_dependency build cairo-devel
Add_dependency build freetype-devel
Add_dependency build fontconfig-devel
Add_dependency build dbus-devel
Add_dependency build dbus-glib-devel
Add_dependency build libSM-devel
Add_dependency build libICE-devel
Add_dependency build libX11-devel
Add_dependency build gtk+3-devel
Add_dependency build vte3-devel
Add_dependency build GConf-devel
Add_dependency build gsettings-desktop-schemas
Add_dependency build coreutils

Add_dependency full desktop-file-utils

post_install()
{
	mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
	gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/${gconf_schemas} \
		--domain ${pkgname} ${wrksrc}/*.schemas
}
