# Build template for 'kernel-snapshot'. To test the latest and greatest
# kernel available from www.kernel.org.
. ${XBPS_SRCPKGDIR}/kernel/template

# Reset some stuff.
unset revision

# Override required vars.
pkgname=kernel-snapshot
#revision=1
_kernel_headers_revision=${revision}
_kernel_snapshot=yes
_kernel_ver=3.0
_kernel_ver_minor=0
_kernel_patch_ver=rc7
version=${_kernel_ver}.${_kernel_ver_minor}${_kernel_patch_ver}
short_desc="The Linux kernel (3.x series) and modules"
wrksrc="linux-${_kernel_ver}-${_kernel_patch_ver}"
distfiles="${KERNEL_SITE}/kernel/v3.0/testing/linux-${_kernel_ver}-${_kernel_patch_ver}.tar.bz2"
checksum=728ac3c42f826521dda85130582553e9393ca63a4eeb5a996243cd01c7b1f403
subpackages="$pkgname-headers"
noverifyrdeps=yes

if [ -n "${_kernel_snapshot}" ]; then
	_kernver="${_kernel_ver}.${_kernel_ver_minor}-${_kernel_patch_ver}"
else
	_kernver=${version}
fi

if [ -n "$revision" ]; then
	_kernver="${_kernver}_${revision}"
fi

# Kernel hooks support.
kernel_hooks_version="${_kernver}"
