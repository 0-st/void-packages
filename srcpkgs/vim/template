# Template file for 'vim'
pkgname=vim
_distver=7.3
_patchver=338
version=${_distver}.${_patchver}
build_style=gnu-configure
configure_args="--disable-perlinterp --disable-pythoninterp --disable-rubyinterp
--disable-cscope --disable-workshop --disable-netbeans --disable-sniff
--disable-gpm --disable-hangulinput --disable-xim --enable-gui=no
--without-x --enable-multibyte --with-tlib=ncursesw"
short_desc="Vim editor (vi clone)"
maintainer="Juan RP <xtraeme@gmail.com>"
long_desc="
 Vim is an almost compatible version of the UNIX editor Vi. Many new features
 have been added: multi level undo, syntax highlighting, command line history,
 on-line help, filename completion, block operations, etc."

nofetch=yes
noextract=yes
subpackages="vim-common"

Add_dependency run glibc
Add_dependency run ncurses-libs
Add_dependency run acl
Add_dependency run vim-common		">=${version}"
Add_dependency build mercurial
Add_dependency build ncurses-devel
Add_dependency build acl-devel

do_fetch() {
	local url="https://vim.googlecode.com/hg"
	hg clone -u v7-3-${_patchver} ${url} ${pkgname}-${version}
}
