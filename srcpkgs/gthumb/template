# Template build file for 'GThumb'.
pkgname=gthumb
version=3.4.0
revision=1
build_style=gnu-configure
LDFLAGS+=" -fPIC "
configure_args="$(vopt_with exiv) $(vopt_with tiff) $(vopt_with clutter) \
				$(vopt_with gstreamer)  $(vopt_with soup)  $(vopt_with gnomekeyring) \
				$(vopt_with brasero)"
hostmakedepends="pkg-config intltool itstool glib-devel"
makedepends="gnome-desktop-devel $(vopt_if exiv exiv2-devel) \
				$(vopt_if tiff tiff-devel) $(vopt_if clutter clutter-devel) \
				$(vopt_if gstreamer gstreamer-devel) $(vopt_if soup libsoup-devel) \
				$(vopt_if gnomekeyring libgnome-keyring-devel) $(vopt_if brasero-devel)"
short_desc='An image viewer and browser for the GNOME Desktop'
maintainer="Enguerrand de Rochefort <voidlinux@rochefort.de>"
homepage="http://live.gnome.org/gthumb"
license="GPL-3"
distfiles="$GNOME_SITE/${pkgname}/${version%.*}/${pkgname}-${version}.tar.xz"
checksum=abd1afe457c65289af31c6db7037452faa3838356480857d8cdc19f0ecde4933
#
## Package build options
build_options="exiv tiff clutter gstreamer soup gnomekeyring brasero"
desc_option_exiv="Enable support for image meta data manipulation"
desc_option_clutter="Enable clutter (for slideshows)"
desc_option_soup="Enable webservices"
desc_option_gnomekeyring="Enable use of the gnome keyring"
desc_option_brasero="Enable burning discs"
build_options_default="exiv tiff clutter gstreamer gnomekeyring brasero"

gthumb-devel_package() {
	short_desc+=" - development files"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/lib/gthumb/extensions/*.a
		vmove usr/lib/pkgconfig
		vmove usr/include/
	}
}
