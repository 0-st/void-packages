# Template file for 'seahorse'
pkgname=seahorse
version=2.91.4
revision=1
distfiles="${GNOME_SITE}/$pkgname/2.91/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--localstatedir=/var --disable-scrollkeeper --with-gtk=3.0
--disable-update-mime-database --enable-ldap --enable-hkp --enable-libnotify
--disable-schemas-install --with-gconf-schema-file-dir=/usr/share/gconf/schemas"
short_desc="Encryption Made Easy"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=9941db9973d353e0da568f2a16099ee12a1e1041c163e59a2367795db28f1bb4
long_desc="
 Seahorse is a GNOME application for managing encryption keys. It also
 integrates with nautilus, gedit and other places for encryption operations.

 With seahorse you can...

    * Create and manage PGP keys
    * Create and manage SSH keys
    * Publish and retrieve keys from key servers
    * Cache your passphrase so you don't have to keep typing it
    * Backup your keys and keyring
    * more..."

gtk_iconcache_dirs="/usr/share/icons/hicolor"
gconf_schemas="$pkgname.schemas"
subpackages="$pkgname-devel"

Add_dependency run glibc
Add_dependency run glib
Add_dependency run gtk+3
Add_dependency run atk
Add_dependency run pango
Add_dependency run gdk-pixbuf
Add_dependency run libpng
Add_dependency run cairo
Add_dependency run freetype
Add_dependency run fontconfig
Add_dependency run GConf
Add_dependency run dbus-glib
Add_dependency run dbus-libs
Add_dependency run gpgme
Add_dependency run libldap
Add_dependency run libsoup
Add_dependency run libgnome-keyring
Add_dependency run avahi-libs
Add_dependency run avahi-glib-libs
Add_dependency run gnome-keyring
Add_dependency run libnotify

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build gnome-doc-utils
Add_dependency build glib-devel
Add_dependency build gtk+3-devel
Add_dependency build atk-devel
Add_dependency build pango-devel
Add_dependency build gdk-pixbuf-devel
Add_dependency build libpng-devel
Add_dependency build cairo-devel
Add_dependency build freetype-devel
Add_dependency build fontconfig-devel
Add_dependency build GConf-devel
Add_dependency build dbus-glib-devel
Add_dependency build dbus-devel
Add_dependency build gpgme-devel
Add_dependency build libldap-devel
Add_dependency build libsoup-devel
Add_dependency build libgnome-keyring-devel
Add_dependency build avahi-libs-devel
Add_dependency build avahi-glib-libs-devel
Add_dependency build gnome-keyring-devel
Add_dependency build libnotify-devel

Add_dependency full openssh-client
Add_dependency full hicolor-icon-theme
Add_dependency full desktop-file-utils

post_install()
{
	mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
	gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/${gconf_schemas} \
		--domain ${pkgname} ${wrksrc}/*.schemas
}
