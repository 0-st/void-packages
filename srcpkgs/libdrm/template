# Template build file for 'libdrm'.
pkgname=libdrm
version=2.4.24
distfiles="http://dri.freedesktop.org/libdrm/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--enable-udev --enable-vmwgfx-experimental-api
--enable-nouveau-experimental-api"
short_desc="Userspace interface to kernel DRM services"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=c7012381f64458af9f291d913309448aac7dd23a28dc86c6970e4bf38effb6a5
long_desc="
 This package provides a library which offers a userspace interface
 to kernel DRM (Direct Rendering Manager) services for access to
 graphics hardware."

subpackages="$pkgname-devel"
Add_dependency run glibc
Add_dependency run libudev
Add_dependency build automake
Add_dependency build pkg-config
Add_dependency build glibc-devel
Add_dependency build libudev-devel

pre_configure()
{
	sed -i -e "s|cairo.h|cairo/cairo.h|" tests/modetest/modetest.c
	cd ${wrksrc} && libtoolize -f && aclocal && autoconf && automake
}
