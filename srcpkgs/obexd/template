# Template file for 'obexd'
pkgname=obexd
version=0.48
revision=2
build_style=gnu-configure
configure_args="--enable-usb"
hostmakedepends="pkg-config"
makedepends="libglib-devel dbus-devel libopenobex-devel
 libbluetooth-devel>=4.99 libical-devel"
short_desc="D-Bus OBEX service"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://www.bluez.org/"
license="GPL-2"
distfiles="${KERNEL_SITE}/bluetooth/$pkgname-$version.tar.xz"
checksum=6dfd10e1444b0d8a66f2d745d70336cd28e533e893a48f69879c4bb6d079edfb
long_desc="
 Implementation of OBEX client and server as a D-Bus service providing
 high-level functionality."

obexd-client_package() {
	short_desc="${short_desc} - client"
	pkg_install() {
		vmove usr/libexec/obex-client
		vmove usr/share/dbus-1/services/obex-client.service
	}
}

obexd_package() {
	conflicts="obex-data-server>=0"
	pkg_install() {
		vmove usr
	}
}
