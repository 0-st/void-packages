# Template file for 'tcl'
pkgname=tcl
version=8.5.10
wrksrc="tcl${version}/unix"
distfiles="${SOURCEFORGE_SITE}/$pkgname/${pkgname}${version}-src.tar.gz"
revision=1
short_desc="The TCL scripting language"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="www.tcl.tk"
license="tcl/tk"
checksum=f582063edd5419a39ee8f7b5c8f95d557b5daad13efb0ed2f0967ca185613bb7
long_desc="
 This package contains Tcl, John Osterhout's Tool Command Language, an
 exceedingly simple language great for general scripting and for
 embedding in other programs."

subpackages="tcl-devel"


do_build()
{
	if [ "${XBPS_MACHINE}" = "x86_64" ]; then
		local args="${configure_args} --enable-64bits"
	fi

	./configure ${CONFIGURE_SHARED_ARGS} --enable-threads \
		--without-tzdata --enable-man-symlinks $args

	make ${makejobs}
}
	
do_install()
{
	make INSTALL_ROOT=${DESTDIR} install install-private-headers
	ln -sf /usr/bin/tclsh8.5 ${DESTDIR}/usr/bin/tclsh
	vinstall ../license.terms 644 usr/share/licenses/tcl LICENSE
}
