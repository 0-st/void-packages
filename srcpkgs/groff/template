# Template file for 'groff'
pkgname=groff
version=1.21
distfiles="http://ftp.gnu.org/gnu/groff/groff-$version.tar.gz"
build_style=gnu-configure
configure_args="--without-x"
revision=1
short_desc="The GNU troff text-formatting system"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=344e6af5480e7ab4ec51e2a2ed10acd69ba3e062d285b6d5f6d49fb5ed2f9f7a
long_desc="
 The Groff package contains the traditional UN*X text formatting tools troff,
 nroff, tbl, eqn, and pic. These utilities, together with the man package,
 are essential for displaying the online manual pages. Output can be produced
 in a number of formats including plain ASCII and PostScript.

 All the standard macro packages are supported. A number of other utilities
 are also included together with several fonts."

subpackages="groff-doc"

Add_dependency run zlib
Add_dependency build bison
Add_dependency build texinfo
Add_dependency build zlib-devel
Add_dependency full bash
Add_dependency full sed

post_install()
{
	# Remove unused stuff.
	rm -rf ${DESTDIR}/usr/lib

	# From Arch:
	#
	# Fix some issues when encoding to utf8 man pages
	# The output chars don't match keyboard chars...
	for f in man mdoc; do
		cat ${FILESDIR}/site.tmac >> \
			${DESTDIR}/usr/share/groff/site-tmac/${f}.local
	done
}
