# Template build file for 'gimp'.
pkgname=gimp
version=2.6.8
revision=4
distfiles="ftp://ftp.gimp.org/pub/gimp/v2.6/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--without-aa --without-gvfs --without-gnomevfs
--enable-gimp-remote --without-hal"
short_desc="The GNU image manipulation program"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=d5d4218b742390157fca23a9d2cce436904546a2ea419ffeb44a5f43c99a3332
long_desc="
 Powerful image manipulation program similar to \"Adobe Photoshop\"[tm].
 It supports layers, arbitrary image sizes and working on several images
 at the same time. It comes with a lot of useful plug-ins. Missing is CMYK
 support and more than 8 bits per channel."

gtk_iconcache_dirs="/usr/share/icons/hicolor"
triggers="mimedb"

conf_files="
/etc/gimp/2.0/unitrc
/etc/gimp/2.0/gtkrc
/etc/gimp/2.0/menurc
/etc/gimp/2.0/ps-menurc
/etc/gimp/2.0/sessionrc
/etc/gimp/2.0/templaterc
/etc/gimp/2.0/gimprc
/etc/gimp/2.0/controllerrc"

subpackages="gimp-devel gimp-python"

Add_dependency run glibc
Add_dependency run glib
Add_dependency run atk
Add_dependency run pango
Add_dependency run cairo
Add_dependency run freetype
Add_dependency run fontconfig
Add_dependency run gtk+
Add_dependency run lcms
Add_dependency run alsa-lib
Add_dependency run dbus-glib
Add_dependency run dbus-libs
Add_dependency run jpeg
Add_dependency run libexif
Add_dependency run libcurl
Add_dependency run libpng
Add_dependency run libmng
Add_dependency run zlib
Add_dependency run libSM
Add_dependency run libICE
Add_dependency run libX11
Add_dependency run libXpm
Add_dependency run libXmu
Add_dependency run libXt
Add_dependency run libXext
Add_dependency run libXfixes
Add_dependency run poppler
Add_dependency run poppler-glib
Add_dependency run tiff
Add_dependency run webkit-gtk
Add_dependency run libsoup
Add_dependency run libwmf
Add_dependency run expat
Add_dependency run librsvg
Add_dependency run gegl
Add_dependency run babl

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build gtk+-devel
Add_dependency build atk-devel
Add_dependency build glib-devel
Add_dependency build pango-devel
Add_dependency build cairo-devel
Add_dependency build freetype-devel
Add_dependency build fontconfig-devel
Add_dependency build glibc-devel
Add_dependency build lcms-devel
Add_dependency build alsa-lib-devel
Add_dependency build dbus-glib-devel
Add_dependency build dbus-devel
Add_dependency build jpeg-devel
Add_dependency build libexif-devel
Add_dependency build libcurl-devel
Add_dependency build libpng-devel
Add_dependency build libmng-devel
Add_dependency build zlib-devel
Add_dependency build libSM-devel
Add_dependency build libICE-devel
Add_dependency build libX11-devel
Add_dependency build libXpm-devel
Add_dependency build libXmu-devel
Add_dependency build libXt-devel
Add_dependency build libXext-devel
Add_dependency build libXfixes-devel
Add_dependency build poppler-devel
Add_dependency build poppler-glib-devel
Add_dependency build tiff-devel
Add_dependency build webkit-gtk-devel
Add_dependency build libsoup-devel
Add_dependency build libwmf-devel
Add_dependency build expat-devel
Add_dependency build librsvg-devel
Add_dependency build gegl-devel
Add_dependency build babl-devel
Add_dependency build pygtk-devel

pre_configure()
{
	cd / && ${XBPS_TRIGGERSDIR}/gtk-pixbuf-loaders run post-install
}
