# Template file for 'gnome-power-manager'
pkgname=gnome-power-manager
version=2.30.1
distfiles="${GNOME_SITE}/$pkgname/2.30/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--disable-schemas-install --disable-scrollkeeper
--with-gconf-schema-file-dir=/usr/share/gconf/schemas
--localstatedir=/var --enable-applets -with-dbus-services=/usr/share/dbus-1/services"
short_desc="GNOME power management tool"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=47af6221ae83d329088abd8f5176f503fe5f81417a7c6766c95279b0af05021c
long_desc="
 GNOME Power Manager is a session daemon for the GNOME desktop that takes care
 of system or desktop events related to power, and triggers actions
 accordingly. Its philosophy is to completely hide these complex tasks and only
 show some settings important to the user.

 The GNOME power manager displays and manages battery status, power plug events,
 display brightness, CPU, graphics card and hard disk drive power saving, and can
 trigger suspend-to-RAM, hibernate or shutdown events, all integrated to other
 components of the GNOME desktop."

gconf_schemas="$pkgname.schemas"
gtk_iconcache_dirs="/usr/share/icons/hicolor"

Add_dependency run glibc
Add_dependency run dbus-glib
Add_dependency run dbus-libs
Add_dependency run libwnck
Add_dependency run libgnome-keyring
Add_dependency run gnome-panel
Add_dependency run GConf
Add_dependency run libbonoboui
Add_dependency run libgnomecanvas
Add_dependency run libgnome
Add_dependency run popt
Add_dependency run libart
Add_dependency run gtk+
Add_dependency run atk
Add_dependency run glib
Add_dependency run pango
Add_dependency run cairo
Add_dependency run freetype
Add_dependency run fontconfig
Add_dependency run libbonobo
Add_dependency run ORBit2
Add_dependency run libXrandr
Add_dependency run libXrender
Add_dependency run libX11
Add_dependency run libXext
Add_dependency run libcanberra
Add_dependency run libnotify
Add_dependency run upower
Add_dependency run libunique

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build gnome-doc-utils
Add_dependency build dbus-glib-devel
Add_dependency build dbus-devel
Add_dependency build libwnck-devel
Add_dependency build libgnome-keyring-devel
Add_dependency build gnome-panel-devel
Add_dependency build GConf-devel
Add_dependency build libbonoboui-devel
Add_dependency build libgnomecanvas-devel
Add_dependency build libgnome-devel
Add_dependency build popt-devel
Add_dependency build libart-devel
Add_dependency build gtk+-devel
Add_dependency build atk-devel
Add_dependency build glib-devel
Add_dependency build pango-devel
Add_dependency build cairo-devel
Add_dependency build freetype-devel
Add_dependency build fontconfig-devel
Add_dependency build libbonobo-devel
Add_dependency build ORBit2-devel
Add_dependency build libXrandr-devel
Add_dependency build libXrender-devel
Add_dependency build libX11-devel
Add_dependency build libXext-devel
Add_dependency build libcanberra-devel
Add_dependency build libnotify-devel
Add_dependency build upower-devel
Add_dependency build libunique-devel

Add_dependency full hicolor-icon-theme

post_install()
{
	install -d ${DESTDIR}/usr/share/gconf/schemas
	mv ${DESTDIR}/etc/gconf/schemas/* ${DESTDIR}/usr/share/gconf/schemas
	rm -rf ${DESTDIR}/etc/gconf
}
