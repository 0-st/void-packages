# Template file for 'gnome-media'
pkgname=gnome-media
version=3.4.0
revision=1
distfiles="${GNOME_SITE}/$pkgname/3.4/$pkgname-$version.tar.xz"
build_style=gnu-configure
configure_args="--disable-schemas-install
--with-gconf-schema-file-dir=/usr/share/gconf/schemas"
short_desc="GNOME Media Tools"
maintainer="davehome <davehome@redthumb.info.tm>"
homepage="http://www.gnome.org"
license="GPL-2"
checksum=a76fac286f24d3836137ddbaab66f05e19eb5fb83cca6e375dbef040765a1d1f
long_desc="
 The GNOME Media package contains GNOME's media applications."

gconf_schemas="gnome-sound-recorder.schemas"
gtk_iconcache_dirs="/usr/share/icons/hicolor"

Add_dependency build which
Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build gnome-doc-utils
Add_dependency build GConf-devel
Add_dependency build gtk+3-devel
Add_dependency build libgnome-media-profiles-devel
Add_dependency build gst-plugins-base-devel

Add_dependency run hicolor-icon-theme
Add_dependency run desktop-file-utils

post_install() {
	mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
	gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/${gconf_schemas} \
		--domain gnome-media ${wrksrc}/*.schemas
}
