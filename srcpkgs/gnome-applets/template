# Template file for 'gnome-applets'
pkgname=gnome-applets
version=3.4.1
distfiles="${GNOME_SITE}/$pkgname/3.4/$pkgname-$version.tar.xz"
build_style=gnu-configure
configure_args="--disable-scrollkeeper --disable-schemas-install
--with-gconf-schema-file-dir=/usr/share/gconf/schemas --without-hal"
short_desc="GNOME panel applets"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://www.gnome.org"
license="GPL-2"
checksum=ec5487eb81fb29851b6336de94a329f5623e73830d61022e0e20fe3d038a415e
long_desc="
 This package contains a few $short_desc."

gtk_iconcache_dirs="/usr/share/icons/hicolor"
gconf_schemas="${pkgname}.schemas"

Add_dependency build which
Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build itstool
Add_dependency build gnome-doc-utils
Add_dependency build gtk+3-devel
Add_dependency build GConf-devel
Add_dependency build gnome-panel-devel
Add_dependency build libgtop-devel
Add_dependency build libwnck-devel
Add_dependency build gnome-settings-daemon-devel
Add_dependency build polkit-devel
Add_dependency build gucharmap-devel
Add_dependency build pygtk-devel
Add_dependency build libxml2-devel
Add_dependency build dbus-glib-devel
Add_dependency build libgweather-devel
Add_dependency build NetworkManager-devel
Add_dependency build libcpufreq-devel
Add_dependency build libnotify-devel

Add_dependency full gsettings-desktop-schemas
Add_dependency full gnome-icon-theme

Add_dependency run hicolor-icon-theme
Add_dependency run desktop-file-utils
Add_dependency run pygtk

post_install() {
	mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
	gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/${gconf_schemas} \
		--domain ${pkgname} ${wrksrc}/*.schemas
}
