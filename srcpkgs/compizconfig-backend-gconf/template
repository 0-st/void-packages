# Template file for 'compizconfig-backend-gconf'
pkgname=compizconfig-backend-gconf
version=0.9.2
distfiles="http://releases.compiz.org/$version/$pkgname-$version.tar.bz2"
build_style=custom-install
short_desc="Compizconfig GConf backend"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=ef2e225918e910194ca7a36766c0331e480a1afab74b5edb614b85071ba3e220
long_desc="
 Compiz is a compositing window manager that uses 3D graphics acceleration
 via OpenGL. It provides various new graphical effects and features on
 any desktop environment, including Gnome and KDE.

 This package contains the GConf backend for libcompizconfig."

Add_dependency run glibc
Add_dependency run glib
Add_dependency run libcompizconfig
Add_dependency run GConf

Add_dependency build pkg-config
Add_dependency build cmake
Add_dependency build glib-devel
Add_dependency build libcompizconfig-devel
Add_dependency build GConf-devel

do_build()
{
        mkdir -p ${wrksrc}/build && cd ${wrksrc}/build && \
        cmake   -DCMAKE_BUILD_TYPE=Release \
                -DCMAKE_INSTALL_PREFIX=/usr \
                -DCOMPIZ_DISABLE_SCHEMAS_INSTALL=yes .. && \
        make ${makejobs} || return 1
}

do_install()
{
        cd ${wrksrc}/build && make DESTDIR=${DESTDIR} install || return 1
}
