# Template file for 'connman'
pkgname=connman
version=1.9
revision=3
subpackages="$pkgname-devel"
build_style=gnu-configure
configure_args="--enable-pie --enable-threads --enable-ethernet
 --enable-wifi --enable-bluetooth --enable-loopback --enable-nmcompat
 --enable-polkit --enable-client --with-systemdunitdir=/usr/lib/systemd/system"
short_desc="Open Source CONNection MANager"
maintainer="Juan RP <xtraeme@gmail.com>"
license="GPL-2"
homepage="http://connman.net/"
distfiles="${KERNEL_SITE}/network/$pkgname/$pkgname-$version.tar.xz"
checksum=11c438cddd52bfd0d279762631083aaf69989a4c03501c6f6a434b0d0e359ad1
long_desc="
 The ConnMan project provides a daemon for managing internet connections
 within embedded devices running the Linux operating system. The Connection
 Manager is designed to be slim and to use as few resources as possible,
 so it can be easily integrated. It is a fully modular system that can be
 extended, through plug-ins, to support all kinds of wired or wireless
 technologies. Also, configuration methods, like DHCP and domain name
 resolving, are implemented using plug-ins. The plug-in approach allows for
 easy adaption and modification for various use cases."

makedepends="pkg-config glib-devel dbus-devel iptables-devel>=1.4.16.2
 gnutls-devel>=3.1.5 readline-devel"
fulldepends="bluez wpa_supplicant"

post_install() {
	# Install the client connmanctl.
	vinstall client/connmanctl 755 usr/bin
}
