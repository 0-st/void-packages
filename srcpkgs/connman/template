# Template file for 'connman'
pkgname=connman
version=0.69
distfiles="${KERNEL_SITE}/network/$pkgname/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--localstatedir=/var --enable-pie --enable-polkit
--enable-ethernet --enable-wifi --enable-bluetooth --enable-openvpn
--enable-loopback --enable-pacrunner --enable-ntpd --enable-client
--enable-capng --enable-google --enable-threads"
short_desc="Open Source CONNection MANager"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=9f7bd87cb36689a2deb943d1fdb79c030071b2c4bc763e32cfd933955017419c
long_desc="
 The ConnMan project provides a daemon for managing internet connections
 within embedded devices running the Linux operating system. The Connection
 Manager is designed to be slim and to use as few resources as possible,
 so it can be easily integrated. It is a fully modular system that can be
 extended, through plug-ins, to support all kinds of wired or wireless
 technologies. Also, configuration methods, like DHCP and domain name
 resolving, are implemented using plug-ins. The plug-in approach allows for
 easy adaption and modification for various use cases."

openrc_services="connmand default true"
subpackages="$pkgname-devel"

Add_dependency run glibc
Add_dependency run glib
Add_dependency run dbus-libs
Add_dependency run iptables
Add_dependency build pkg-config
Add_dependency build glib-devel
Add_dependency build dbus-devel
Add_dependency build iptables-devel
Add_dependency full dbus
Add_dependency full udev
Add_dependency full bluez
Add_dependency full wpa_supplicant

post_install()
{
	install -D -m755 ${FILESDIR}/connmand.rc ${DESTDIR}/etc/init.d/connmand
}
