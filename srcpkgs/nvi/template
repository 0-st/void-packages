# Template file for 'nvi'
pkgname=nvi
version=1.81.6
revision=3
patch_args="-Np1"
build_style=gnu-configure
build_wrksrc=dist
configure_args="--enable-widechar --enable-threads --disable-static
vi_cv_path_preserve=/var/tmp"
makedepends="ncurses-devel db-devel"
short_desc="The Berkeley Vi Editor"
maintainer="Juan RP <xtraeme@gmail.com>"
license="BSD"
homepage="http://garage.linux.student.kuleuven.be/~skimo/nvi/"
distfiles="http://garage.linux.student.kuleuven.be/~skimo//nvi/devel/nvi-$version.tar.bz2"
checksum=3441b8e3247b2b6dd19b5fd38355fe6593b2a92e960ecb3dd00d676f63d06b59
long_desc="
 Nvi is an implementation of the ex/vi text editor originally distributed as
 part of the Fourth Berkeley Software Distribution (4BSD), by the University
 of California, Berkeley. The source code to nvi is freely available, and
 nvi may be freely redistributed.

 Nvi supports all the historic ex/vi features except for open mode and the
 lisp edit option (e.g., it has a fully implemented underlying ex mode).

 It has a number of additional features as well:

    8-bit clean data, lines and files limited by available memory
    Multiple edit buffers
    Colon command-line editing and path name completion
    Tag stacks (including support for Cscope databases)
    Extended Regular Expressions
    Infinite undo
    Horizontal scrolling
    Message catalogs (Dutch, English, French, German, Russian, Spanish, Swedish)
    Preliminary support for Perl and Tcl/Tk scripting languages"

pre_build() {
	sed -i -e '/define.*_PATH_MSGCAT/ s/".*"/"\/usr\/share\/vi\/catalog\/"/' \
		pathnames.h
}
