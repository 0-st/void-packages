# Template file for 'libsmbios'
pkgname=libsmbios
version=2.2.16
revision=1
distfiles="http://linux.dell.com/$pkgname/download/$pkgname/$pkgname-$version/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--disable-static --disable-python"
short_desc="Library for SMBIOS access"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=90c87d0f246c2f224b93aa3980b7b186a78fb4ce64d56ceda61c2a23347baa1b
long_desc="
 Libsmbios is a library and utilities that can be used by client programs
 to get information from standard BIOS tables, such as the SMBIOS table."

subpackages="$pkgname-devel $pkgname-utils"
Add_dependency run glibc
Add_dependency run libstdc++
Add_dependency build pkg-config
Add_dependency build libxml2-devel

post_install()
{
	rm -rf ${DESTDIR}/etc/yum ${DESTDIR}/usr/lib/yum-plugins
	rm -rf ${DESTDIR}/libsmbios_c ${DESTDIR}/etc/libsmbios
	rm -rf ${DESTDIR}/usr/bin ${DESTDIR}/usr/share/smbios-utils
	install -d ${DESTDIR}/usr/include
	cp -r ${wrksrc}/src/include/smbios ${DESTDIR}/usr/include
	cp -r ${wrksrc}/src/include/smbios_c ${DESTDIR}/usr/include
	rm -f ${DESTDIR}/usr/include/smbios/version.h.in
}
