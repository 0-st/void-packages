From 2de5afb0fee02253dc2d9436d9783a2d26c92f95 Mon Sep 17 00:00:00 2001
From: Enno Boland <g@s01.de>
Date: Wed, 17 Jul 2019 13:44:43 +0200
Subject: [PATCH] src/blocks/disk_space.rs: fix build on i686

fixes #403.
---
 src/blocks/disk_space.rs | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/src/blocks/disk_space.rs b/src/blocks/disk_space.rs
index 2a6c111..2269fda 100644
--- src/blocks/disk_space.rs
+++ src/blocks/disk_space.rs
@@ -189,16 +189,16 @@ impl Block for DiskSpace {
         let mut result;
         let mut converted = 0.0f64;
         let mut converted_str = String::new();
-        let total = statvfs.blocks() * statvfs.fragment_size();
-        let used = (statvfs.blocks() - statvfs.blocks_free()) * statvfs.fragment_size();
+        let total = (statvfs.blocks() * statvfs.fragment_size()) as u64;
+        let used = ((statvfs.blocks() - statvfs.blocks_free()) * statvfs.fragment_size()) as u64;
 
         match self.info_type {
             InfoType::Available => {
-                result = statvfs.blocks_available() * statvfs.block_size();
+                result = (statvfs.blocks_available() * statvfs.block_size()) as u64;
                 converted = Unit::bytes_in_unit(self.unit, result);
             }
             InfoType::Free => {
-                result = statvfs.blocks_free() * statvfs.block_size();
+                result = (statvfs.blocks_free() * statvfs.block_size()) as u64;
                 converted = Unit::bytes_in_unit(self.unit, result);
             }
             InfoType::Total => {
