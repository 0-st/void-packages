# Template file for 'ntp'
pkgname=ntp
version=4.2.6p4
revision=3
homepage="http://www.ntp.org/"
distfiles="http://www.eecis.udel.edu/~ntp/ntp_spool/ntp4/ntp-$version.tar.gz"
build_style=gnu-configure
configure_args="--enable-linuxcap"
short_desc="The Network Time Protocol"
license="BSD"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=dec30ea700d57b2d306ae61a3bcd8bc843443404a819a2f708b23a0ffc8581f3
long_desc="
 The Network Time Protocol (NTP) is used to synchronize a computer's
 time with another reference time source. This package includes ntpd
 (a daemon which continuously adjusts system time) and utilities used
 to query and configure the ntpd daemon."

subpackages="$pkgname-perl"
conf_files="/etc/ntp.conf"
systemd_services="ntpd.service"

Add_dependency run glibc
Add_dependency run readline
Add_dependency run libssl
Add_dependency run libcap

Add_dependency build readline-devel
Add_dependency build openssl-devel
Add_dependency build libcap-devel

post_install()
{
	vinstall ${FILESDIR}/ntpd.service 644 lib/systemd/system
	vinstall ${FILESDIR}/ntp.conf 644 etc
	vinstall ${FILESDIR}/ntpd.logrotate 644 etc/logrotate.d ntpd

	vmkdir usr/share/ntp
	vmkdir usr/share/doc/ntp
	vcopy html usr/share/doc/ntp
	vcopy conf usr/share/ntp
}
