# Template file for 'xbps-src-git'
pkgname=xbps-src-git
version="$(date -u +%Y%m%d)"
build_style=gnu-makefile
make_build_args="PREFIX=/usr ETCDIR=/etc/xbps"
make_install_args="PREFIX=/usr ETCDIR=/etc/xbps"
short_desc="The XBPS package system - binary package builder (git snaphost)"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://code.google.com/p/xbps"
license="Simplified BSD"
long_desc="
 The XBPS package system. A new, fast, from scratch and simple
 binary package manager. This package includes xbps-src, the
 utility to build XBPS binary packages from source packages.

 This package includes code from master branch of development git
 repository. Do not use it if you aren't a developer."

provides="xbps-src-9999"
replaces="xbps-src>=0"
conf_files="/etc/xbps/xbps-src.conf"
nofetch=yes
noextract=yes

Add_dependency run gcc-c++
Add_dependency run make
Add_dependency run bison
Add_dependency run gettext
Add_dependency run texinfo
Add_dependency run patch
Add_dependency run perl ">=0"
Add_dependency run fakeroot
Add_dependency run libcap-progs
Add_dependency run xbps-static
Add_dependency build git
Add_dependency build libcap-devel

do_fetch() {
	local url="git://github.com/xtraeme/xbps-src"
	msg_normal "Fetching source from $url ...\n"
	git clone ${url} ${pkgname}-${version}
}
