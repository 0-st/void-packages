# Template file for 'gtk+-devel'.
#
short_desc="${sourcepkg} (development files)"
long_desc="${long_desc}

 This package contains files for development, headers, static libs, etc."

Add_dependency run glibc
Add_dependency run glib
Add_dependency run pango
Add_dependency run cairo
Add_dependency run gdk-pixbuf
Add_dependency run pkg-config
Add_dependency run libXext-devel
Add_dependency run libXrender-devel
Add_dependency run libXinerama-devel
Add_dependency run libXi-devel
Add_dependency run libXrandr-devel
Add_dependency run libXcursor-devel
Add_dependency run pango-devel
Add_dependency run libX11-devel
Add_dependency run libXcomposite-devel
Add_dependency run libXdamage-devel
Add_dependency run libXfixes-devel
Add_dependency run atk-devel
Add_dependency run cairo-devel
Add_dependency run gdk-pixbuf-devel
Add_dependency run libpng-devel
Add_dependency run glib-devel
Add_dependency run freetype-devel
Add_dependency run fontconfig-devel
Add_dependency run gtk+3
Add_dependency run python

do_install()
{
	local lver="3.0.0"
	local libdirs="immodules printbackends engines"

	for dir in ${libdirs}; do
		mkdir -p ${DESTDIR}/usr/lib/gtk-3.0/${lver}/${dir}
	done
	mkdir -p ${DESTDIR}/usr/bin
	mkdir -p ${DESTDIR}/usr/share/man/man1
	mkdir -p ${DESTDIR}/usr/lib/gtk-3.0/modules

	mv ${SRCPKGDESTDIR}/usr/include ${DESTDIR}/usr
	for bin in gtk3-demo; do
		mv ${SRCPKGDESTDIR}/usr/bin/${bin} ${DESTDIR}/usr/bin
		[ ! -f ${SRCPKGDESTDIR}/usr/share/man/man1/${bin}.1 ] && \
			continue
		mv ${SRCPKGDESTDIR}/usr/share/man/man1/${bin}.1 \
			${DESTDIR}/usr/share/man/man1
	done
	mv ${SRCPKGDESTDIR}/usr/lib/pkgconfig ${DESTDIR}/usr/lib
	mv ${SRCPKGDESTDIR}/usr/share/{gir-*,gtk-doc} ${DESTDIR}/usr/share
	mv ${SRCPKGDESTDIR}/usr/share/aclocal ${DESTDIR}/usr/share
	mv ${SRCPKGDESTDIR}/usr/share/gtk-3.0 ${DESTDIR}/usr/share
}
