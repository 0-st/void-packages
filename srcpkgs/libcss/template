# Template build file for 'libcss'.
pkgname=libcss
version=0.1.1
revision=1
homepage="http://www.netsurf-browser.org"
distfiles="${homepage}/projects/releases/${pkgname}-${version}-src.tar.gz"
short_desc="CSS parser and selection engine, written in C."
maintainer="davehome <davehome@redthumb.info.tm>"
checksum=383c424c1f7134be67e22a7a633e31d47ba6b87aba835a4e73eca893aa01c0a0
license="MIT"
long_desc="
 LibCSS is a CSS (Cascading Style Sheet) parser and selection engine,
 written in C. It was developed as part of the NetSurf project and is
 available for use by other software under the MIT licence. For further
 details, see the readme.

 * Features
 	Parses CSS, good and bad
 	Simple C API
 	Low memory usage
 	Fast selection engine
 	Portable
 	Shared library"

subpackages="${pkgname}-devel"

Add_dependency build pkg-config
Add_dependency build perl
Add_dependency build libparserutils-devel 
Add_dependency build libwapcaplet-devel

do_build() {
	make ${makejobs} COMPONENT_TYPE=lib-shared
	make ${makejobs} COMPONENT_TYPE=lib-static
}

do_install() {
	make ${makejobs} COMPONENT_TYPE=lib-shared \
		PREFIX=/usr DESTDIR=${DESTDIR} install
	make ${makejobs} COMPONENT_TYPE=lib-static \
		PREFIX=/usr DESTDIR=${DESTDIR} install

	vinstall "${wrksrc}/COPYING" 0644 "usr/share/licenses/${pkgname}"
}
