# Template file for 'acpid'
pkgname=acpid
version=1.0.10
distfiles="${SOURCEFORGE_SITE}/$pkgname/$pkgname-$version.tar.gz"
build_style=gnu_makefile
make_install_args="INSTPREFIX=$XBPS_DESTDIR/$pkgname-$version
MAN8DIR=$XBPS_DESTDIR/$pkgname-$version/usr/share/man/man8"
short_desc="A daemon for delivering ACPI power management events"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=22703ce0dd7305aca01bc9ac741659c32b1593f1d6fde492df7f01067a534760
long_desc="
 ACPID used to try to handle events internally. Rather than try to climb
 an ever-growing mountain, ACPID now lets YOU define what events to handle.
 Any event that publishes itself to /proc/acpi/event can be handled."

keep_empty_dirs=yes
openrc_services="acpid default"
conf_files="/etc/conf.d/acpid"
Add_dependency full glibc

post_install()
{
	install -d ${DESTDIR}/etc/acpi/events

	chmod 755 ${DESTDIR}/usr/sbin/acpid || return 1
	install -D -m755 ${FILESDIR}/acpid.rc \
		${DESTDIR}/etc/init.d/acpid || return 1
	install -D -m644 ${FILESDIR}/acpid.confd \
		${DESTDIR}/etc/conf.d/acpid || return 1
	install -D -m755 ${FILESDIR}/default.sh \
		${DESTDIR}/etc/acpi/default.sh || return 1
}
