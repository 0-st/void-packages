# Template file for 'memtest86+'
pkgname=memtest86+
version=4.00
distfiles="http://www.memtest.org/download/$version/$pkgname-$version.tar.gz"
build_style=custom-install
short_desc="An Advanced Memory Diagnostic Tool"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=6ec42f549da81b715bfc5c55b93b74774fb5c35f7578c7eecebab3ca37866ca4
long_desc="
 Memtest86+ scans your RAM for errors.

 It can output a list of bad RAM regions usable by the BadRAM kernel patch,
 so that you can still use you old RAM with one or two bad bits.

 Memtest86+ is based on memtest86 3.0, and adds support for recent hardware,
 as well as a number of general-purpose improvements, including many patches
 to memtest86 available from various sources."

nostrip=yes
noverifyrdeps=yes

do_build()
{
	cd ${wrksrc} && make || return 1
}

do_install()
{
	install -D -m755 ${wrksrc}/memtest.bin \
		${DESTDIR}/boot/memtest86+.bin || return 1
	install -D -m755 ${FILESDIR}/20_memtest86+ \
		${DESTDIR}/etc/grub.d/20_memtest86+ || return 1
}
