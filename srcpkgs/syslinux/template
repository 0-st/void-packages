# Template file for 'syslinux'
pkgname=syslinux
version=4.05
distfiles="${KERNEL_SITE}/utils/boot/$pkgname/$pkgname-$version.tar.bz2"
makedepends="perl nasm libuuid-devel"
short_desc="A boot loader for the Linux operating system"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://syslinux.zytor.com/wiki/index.php/The_Syslinux_Project"
license="GPL-2"
checksum=9093f246038a3671a323bd9dd7eb685338578f67f3da949123c6462e0903c0b8
long_desc="
 The SYSLINUX Project covers lightweight bootloaders for floppy media (SYSLINUX),
 network booting (PXELINUX), and bootable El Torito CD-ROMs (ISOLINUX).
 The project also includes MEMDISK, a tool to boot legacy operating systems
 (such as DOS) from nontraditional media; it is usually used in conjunction with
 PXELINUX and ISOLINUX."

broken_as_needed=yes


do_build() {
	# Disable this file which causes an error.
	sed -i -e 's|win32/syslinux.exe||g' Makefile
	make ${makejobs}
}

do_install() {
	make INSTALLROOT=${DESTDIR} install
	mv ${DESTDIR}/usr/man ${DESTDIR}/usr/share
}
