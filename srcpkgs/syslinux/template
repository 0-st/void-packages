# Template file for 'syslinux'
pkgname=syslinux
version=3.86
distfiles="${KERNEL_SITE}/utils/boot/$pkgname/$pkgname-$version.tar.bz2"
build_style=gnu_makefile
make_install_args="INSTALLROOT=$XBPS_DESTDIR/$pkgname-$version"
short_desc="A boot loader for the Linux operating system"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=82a8d2a242f869cb4c34b3a074871f472762343e1879a4dca23d7ce5c4dcd06d
long_desc="
 The SYSLINUX Project covers lightweight bootloaders for floppy media (SYSLINUX),
 network booting (PXELINUX), and bootable \"El Torito\" CD-ROMs (ISOLINUX).
 The project also includes MEMDISK, a tool to boot legacy operating systems
 (such as DOS) from nontraditional media; it is usually used in conjunction with
 PXELINUX and ISOLINUX."

Add_dependency run glibc
Add_dependency build perl
Add_dependency build nasm

pre_build()
{
	# Disable this file which causes an error.
	sed -i -e 's|win32/syslinux.exe||g' $wrksrc/Makefile
}

post_install()
{
	mv ${DESTDIR}/usr/man ${DESTDIR}/usr/share
}
