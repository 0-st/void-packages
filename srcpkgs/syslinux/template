# Template file for 'syslinux'
pkgname=syslinux
version=4.04
distfiles="${KERNEL_SITE}/utils/boot/$pkgname/$pkgname-$version.tar.bz2"
build_style=gnu_makefile
make_install_args="INSTALLROOT=$XBPS_DESTDIR/$pkgname-$version"
short_desc="A boot loader for the Linux operating system"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://syslinux.zytor.com/wiki/index.php/The_Syslinux_Project"
license="GPL-2"
checksum=e186a21cb1b3b1874f253df21546e8d0595d803bd6a60f38cfafbc10bee90e0b
long_desc="
 The SYSLINUX Project covers lightweight bootloaders for floppy media (SYSLINUX),
 network booting (PXELINUX), and bootable \"El Torito\" CD-ROMs (ISOLINUX).
 The project also includes MEMDISK, a tool to boot legacy operating systems
 (such as DOS) from nontraditional media; it is usually used in conjunction with
 PXELINUX and ISOLINUX."

Add_dependency run glibc
Add_dependency build perl
Add_dependency build nasm
Add_dependency build xz

pre_build()
{
	# Disable this file which causes an error.
	sed -i -e 's|win32/syslinux.exe||g' $wrksrc/Makefile
}

post_install()
{
	mv ${DESTDIR}/usr/man ${DESTDIR}/usr/share
}
