# Build template for 'base-busybox'.
pkgname=base-busybox
version=1.19.3
wrksrc="busybox-${version}"
homepage="http://www.busybox.net"
distfiles="${homepage}/downloads/busybox-$version.tar.bz2"
revision=7
short_desc="The Swiss Army Knife of Embedded Linux - for base system"
maintainer="Juan RP <xtraeme@gmail.com>"
license="GPL-2"
checksum=a1a9a35732c719ef384f02b6e357c324d8be25bc154af91a48c4264b1e6038f0
long_desc="
 BusyBox combines tiny versions of many common UNIX utilities into a single
 small executable. It provides replacements for most of the utilities you
 usually find in GNU fileutils, shellutils, etc. The utilities in BusyBox
 generally have fewer options than their full-featured GNU cousins; however,
 the options that are included provide the expected functionality and behave
 very much like their GNU counterparts. BusyBox provides a fairly complete
 environment for any small or embedded system."

Add_dependency build perl ">=0"

do_build() {
	cp -f ${FILESDIR}/dotconfig .config
	make ${makejobs}
}

do_install() {
	make CONFIG_PREFIX=${DESTDIR} install
	vinstall ${FILESDIR}/udhcpc@.service 644 lib/systemd/system
	vinstall ${FILESDIR}/udhcpc-default.script 755 \
		usr/share/udhcpc default.script
}
