# Template file for 'xbps-git'
pkgname=xbps-git
version="$(date -u +%Y%m%d)"
revision=2
nofetch=yes
noextract=yes
build_style=configure
configure_args="--prefix=/ --exec-prefix=/usr --sbindir=/usr/sbin
--with-static --with-pie --with-tests"
depends="xbps-triggers libxbps-git>=$version"
makedepends="git which pkg-config zlib-devel proplib-devel openssl-devel
libarchive-devel libfetch-devel confuse-devel atf-devel>=0.16"
conf_files="/etc/xbps/xbps.conf"
subpackages="libxbps-git libxbps-devel-git xbps-tests-git xbps-static-git"
provides="xbps-9999"
replaces="xbps>=0 xbps-devel>=0"
short_desc="The XBPS package system (development branch)"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://code.google.com/p/xbps"
license="Simplified BSD"
long_desc="
 The XBPS package system. A new, fast, from scratch and simple
 binary package manager. This packages includes code from a development
 branch available from https://github.com/xtraeme/xbps"

do_fetch() {
	local url="git://github.com/xtraeme/xbps"
	msg_normal "Fetching source from $url ...\n"
	git clone ${url} ${pkgname}-${version}
}
