# Template build file for 'thunderbird'.
pkgname=thunderbird
version=3.0rc2
wrksrc=comm-1.9.1
distfiles="ftp://ftp.mozilla.org/pub/${pkgname}/releases/${version}/source/${pkgname}-${version}.source.tar.bz2"
build_style=gnu_configure
configure_args="--enable-application=mail --enable-default-toolkit=cairo-gtk2
--disable-dbus --disable-crashreporter --disable-tests --disable-debug
--enable-optimize --disable-embedding-tests --disable-installer --disable-javaxpcom
--disable-embedding-tests --disable-necko-wifi --disable-libnotify --with-system-jpeg
--with-system-zlib --with-system-bz2 --enable-system-cairo --with-system-sqlite
--with-system-png --with-system-nspr --with-system-nss"
# --enable-libxul  --with-libxul-sdk=/usr/lib/xulrunner-devel-1.9.1" 
short_desc="Mozilla mail client"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=2c18b692e2eb5bbb4a6207a249a7a478463f333bae50c3648568104eb3368481
long_desc="
Mozilla Thunderbird is a redesign of the Mozilla mail component. The
goal is to produce a cross platform stand alone mail application using
the XUL user interface language. This version uses the gtk2 toolkit."

Add_dependency run libstdc++
Add_dependency run gtk+
Add_dependency run xulrunner
Add_dependency build zip
Add_dependency build python
Add_dependency build gtk+-devel
Add_dependency build xulrunner-devel

post_install()
{
	install -d ${DESTDIR}/usr/share/applications || return 1
	install -d ${DESTDIR}/usr/share/pixmaps || return 1
	install -m644 ${FILESDIR}/*.desktop \
		${DESTDIR}/usr/share/applications || return 1
	install -m644 ${wrksrc}/mail/branding/nightly/mailicon48.png \
		${DESTDIR}/usr/share/pixmaps/thunderbird.png || return 1
}