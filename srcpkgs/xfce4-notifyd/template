# Template file for 'xfce4-notifyd'
pkgname=xfce4-notifyd
version=0.2.1
revision=3
distfiles="http://archive.xfce.org/src/apps/$pkgname/0.2/$pkgname-$version.tar.bz2"
build_style=gnu_configure
short_desc="Simple, visually-appealing notification daemon for Xfce"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=aab2da3d14401ea91d816744e7c4b9e2e7a996e7d8b6756c7ad0c0b3bec3ed70
long_desc="
 Xfce4-notifyd is a simple, visually-appealing notification daemon for Xfce
 that implements the Freedesktop.org Desktop Notifications Specification."

provides="notification-daemon-${version}"
conflicts="notification-daemon>=0"
replaces="notification-daemon>=0"

gtk_iconcache_dirs="/usr/share/icons/hicolor"

Add_dependency run glibc
Add_dependency run libxfce4ui
Add_dependency run gtk+
Add_dependency run libxfce4util
Add_dependency run xfconf
Add_dependency run dbus-glib
Add_dependency run glib
Add_dependency run gdk-pixbuf
Add_dependency run cairo
Add_dependency run pango
Add_dependency run dbus-libs
Add_dependency run libX11

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build libxfce4util-devel
Add_dependency build libxfce4ui-devel
Add_dependency build xfconf-devel
Add_dependency build dbus-glib-devel
Add_dependency build gtk+-devel

Add_dependency full hicolor-icon-theme
Add_dependency full desktop-file-utils

post_install() {
	vinstall ${FILESDIR}/${pkgname}.virtualpkgd \
		644 etc/xbps/virtualpkg.d ${pkgname}.plist
	vmkdir etc/xbps/virtualpkg.d.wants
	cd ${DESTDIR}/etc/xbps/virtualpkg.d.wants && \
		ln -sf ../virtualpkg.d/${pkgname}.plist .
}
