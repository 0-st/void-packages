# Template file for 'xbps'
pkgname=xbps-devel
version="$(date +%Y%m%d)"
build_style=configure
configure_args="--prefix= --includedir=/usr/include
--datadir=/usr/share --mandir=/usr/share/man --with-pie"
short_desc="The XBPS package system (development branch)"
maintainer="Juan RP <xtraeme@gmail.com>"
long_desc="
 The XBPS package system. A new, fast, from scratch and simple
 binary package manager. This packages includes code from a development
 branch available from https://launchpad.net/xbps"

subpackages="$pkgname-static"
replaces="xbps"
nofetch=yes
noextract=yes

Add_dependency run glibc
Add_dependency run zlib
Add_dependency run libarchive
Add_dependency run openssl
Add_dependency build mercurial
Add_dependency build zlib-devel
Add_dependency build libarchive-devel
Add_dependency build openssl-devel

do_fetch()
{
	msg_normal "Fetching source from http://xbps.googlecode.com/hg..."
	hg clone http://xbps.googlecode.com/hg \
		${pkgname}-${version} 2>/dev/null || return 1
}
