# Template file for 'libudev'
pkgname=libgudev
version=182
wrksrc=udev-${version}
distfiles="${KERNEL_SITE}/utils/kernel/hotplug/udev-${version}.tar.xz"
build_style=gnu-configure
configure_args="--without-selinux --disable-rule-generator
--enable-introspection --enable-gudev --disable-static
--disable-keymap --disable-mtd_probe"
makedepends="pkg-config gperf glib-devel gobject-introspection libblkid-devel libkmod-devel usbutils pciutils"
short_desc="GObject-based wrapper library for libudev"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html"
license="GPL-2"
checksum=adb8892f3b8e4b7163703ed4a545774721a3d55a1062de001f08c477c03d97ab
long_desc="
 This library makes it much simpler to use libudev from programs already using
 GObject. It also makes it possible to easily use libudev from other
 programming languages, such as Javascript, because of GObject introspection
 support."

subpackages="${pkgname}-devel"


post_install() {
	# remove stuff in udev pkg.
	for f in etc sbin usr/sbin lib usr/libexec usr/share/man \
		usr/share/pkgconfig usr/share/gtk-doc/html/libudev \
		usr/bin; do
		rm -rf ${DESTDIR}/${f}
	done
	find ${DESTDIR} -name libudev\* -delete
}
