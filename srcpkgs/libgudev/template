# Template file for 'libudev'
pkgname=libgudev
version=174
revision=1
wrksrc=udev-${version}
#distfiles="${KERNEL_SITE}/utils/kernel/hotplug/udev-${version}.tar.bz2"
distfiles="http://people.freedesktop.org/~kay/udev-${version}.tar.bz2"
build_style=gnu-configure
configure_args="--without-selinux --disable-rule-generator
--enable-introspection --enable-gudev --disable-static
--disable-hwdb --disable-keymap --disable-mtd_probe"
short_desc="GObject-based wrapper library for libudev"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html"
license="GPL-2"
checksum=832662179a5ff9782769b0feadd51aaaea6e603f91f6ef0ec8bb6aab0fb3ad1a
long_desc="
 This library makes it much simpler to use libudev from programs already using
 GObject. It also makes it possible to easily use libudev from other
 programming languages, such as Javascript, because of GObject introspection
 support."

subpackages="${pkgname}-devel"

Add_dependency run glibc
Add_dependency run glib
Add_dependency run libudev

Add_dependency build pkg-config
Add_dependency build gperf
Add_dependency build glib-devel
Add_dependency build gobject-introspection

post_install() {
	# remove stuff in udev pkg.
	for f in etc sbin usr/sbin lib usr/libexec usr/share/man \
		usr/share/pkgconfig usr/share/gtk-doc/html/libudev; do
		rm -rf ${DESTDIR}/${f}
	done
	find ${DESTDIR} -name libudev\* -delete
}
