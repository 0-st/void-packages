# Template file for 'man-db'
pkgname=man-db
version=2.6.0
distfiles="${NONGNU_SITE}/$pkgname/$pkgname-$version.tar.gz"
build_style=gnu_configure
configure_args="--with-db=gdbm --with-pager=less --with-gzip=/usr/bin/gzip
--with-bzip2=/usr/bin/bzip2 --disable-rpath --enable-threads=posix
--with-lzma=/usr/bin/lzma --with-xz=/usr/bin/xz --disable-setuid
--without-included-regex --enable-automatic-create" 
short_desc="The on-line manual database"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=0b7e423df53f95715efe0d1182bee4d4eea41289d696a6dd7324f6cacd04157c
long_desc="
 man-db is an implementation of the standard Unix documentation system
 accessed using the man command. It uses a Berkeley DB database in place of
 the traditional flat-text whatis databases. man-db is used by several popular
 GNU/Linux distributions, including Debian, Ubuntu, and SuSE. It also compiles
 and runs on a number of proprietary Unix systems."

conf_files="/etc/man_db.conf"

Add_dependency run glibc
Add_dependency run gdbm
Add_dependency run zlib
Add_dependency run libpipeline

Add_dependency build pkg-config
Add_dependency build gettext
Add_dependency build gdbm-devel
Add_dependency build zlib-devel
Add_dependency build libpipeline-devel

Add_dependency full bzip2
Add_dependency full gzip
Add_dependency full less
Add_dependency full groff
Add_dependency full grep
Add_dependency full coreutils

post_install()
{
	# Install the cron daily job.
	install -D -m744 ${FILESDIR}/man-db.cron-daily \
		${DESTDIR}/etc/cron.daily/man-db
}
