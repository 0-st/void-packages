# Template file for 'python-urlnorm'
pkgname=python-urlnorm
version=1.1.3
revision=1
noarch=yes
wrksrc="urlnorm-${version}"
build_style=python-module
python_versions="2.7 3.4"
pycompile_module="urlnorm"
hostmakedepends="python-setuptools python3.4-setuptools"
makedepends="python-devel python3.4-devel"
depends="python"
short_desc="Python2 module for normalizing URLs"
maintainer="Eivind Uggedal <eivind@uggedal.com>"
license="MIT"
homepage="https://github.com/jehiah/urlnorm"
distfiles="${PYPI_SITE}/u/urlnorm/urlnorm-${version}.tar.gz"
checksum=c9ea4ed056716df565ecbc34bc2b024970368a91e496009089cb54abea010059

pre_install() {
	sed -n '/^__license__/,/^"""/{/"""$/d;p}' urlnorm.py > LICENSE
}

post_install() {
	vlicense LICENSE
}

python3.4-urlnorm_package() {
    noarch=yes
    depends="python3.4"
    pycompile_version="3.4"
    pycompile_module="urlnorm"
    short_desc="${short_desc/Python2/Python3.4}"
    pkg_install() {
        vmove usr/lib/python3.4
		vlicense LICENSE
    }
}
