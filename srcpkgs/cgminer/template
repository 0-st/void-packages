# Template file for 'cgminer'
pkgname=cgminer
version=2.10.2
revision=1
build_style=gnu-configure
conf_files="/etc/cgminer.conf"
configure_args="--disable-adl --enable-cpumining --enable-scrypt"
makedepends="pkg-config yasm libcurl-devel opencl-headers libudev-devel
 ncurses-devel nvidia-opencl"
short_desc="Multi-threaded multi-pool CPU and GPU miner for bitcoin"
maintainer="Juan RP <xtraeme@gmail.com>"
license="GPL-3"
homepage="https://github.com/ckolivas/cgminer"
distfiles="http://ck.kolivas.org/apps/cgminer/cgminer-${version}.tar.bz2"
checksum=27fbd58e87b1408d1df135fc717e33d30c99787e3acc95d4e437ec05843d7ee4
long_desc="
 This is a multi-threaded multi-pool GPU, FPGA and CPU miner with ATI GPU
 monitoring, (over)clocking and fanspeed support for bitcoin and derivative
 coins. Do not use on multiple block chains at the same time!"

post_install() {
	vinstall example.conf 644 etc cgminer.conf
	sed -i -e 's#/usr/local/bin#/usr/bin#g' ${DESTDIR}/etc/cgminer.conf
	vinstall ${FILESDIR}/cgminer.service 644 usr/lib/systemd/system
}
