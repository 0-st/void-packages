# Template build file for 'libwmf'.
pkgname=libwmf
version=0.2.8.4
revision=2
distfiles="${SOURCEFORGE_SITE}/wvware/$pkgname-$version.tar.gz"
build_style=gnu_configure
configure_args="--with-gsfontdir=/usr/share/fonts/Type1
 --with-fontdir=/usr/share/fonts/Type1
 --with-gsfontmap=/usr/share/ghostscript/8.15/lib/Fontmap.GS"
short_desc="Library for reading and converting WMF (Windows Meta Files)"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=5b345c69220545d003ad52bfd035d5d6f4f075e65204114a9e875e84895a7cf8
long_desc="
 libwmf is a library for UNIX-like machines that can convert wmf
 (Windows Meta Files) files into other formats.  Currently it supports
 a gd binding to convert to png, and an X one to draw direct to an X
 window or pixmap. It also comes with a program to display wmfs: wmf2x.

 Without a TrueType font server and the standard MS Windows fonts, the X
 binding might render text in a different font than would appear under
 MS Windows natively (this is a runtime issue for the wmf2x program)."

triggers="gtk-pixbuf-loaders"
subpackages="$pkgname-devel"

Add_dependency run glibc
Add_dependency run freetype
Add_dependency run jpeg
Add_dependency run libpng
Add_dependency run expat
Add_dependency run glib
Add_dependency run gtk+
Add_dependency run gd
Add_dependency run libX11
Add_dependency run zlib
Add_dependency build pkg-config
Add_dependency build freetype-devel
Add_dependency build jpeg-devel
Add_dependency build libpng-devel
Add_dependency build expat-devel
Add_dependency build glib-devel
Add_dependency build gtk+-devel
Add_dependency build gd-devel
Add_dependency build libX11-devel
Add_dependency build zlib-devel
Add_dependency full gsfonts

post_install()
{
	rm -rf ${DESTDIR}/usr/share/fonts
}
