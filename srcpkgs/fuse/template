# Template file for 'fuse'
pkgname=fuse
version=2.8.5
revision=1
distfiles="${SOURCEFORGE_SITE}/$pkgname/$pkgname-$version.tar.gz"
build_style=gnu_configure
configure_args="--enable-lib --enable-util --bindir=/bin"
short_desc="Filesystem in Userspace"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=bec80e66ae8ee60dfdf67b2ca291266a45dcfe6bc20c64f3acfceaa38ed29a84
long_desc="
 With FUSE it is possible to implement a fully functional filesystem in
 a userspace program. Features include:

  * Simple library API
  * Simple installation (no need to patch or recompile the kernel)
  * Secure implementation
  * Userspace - kernel interface is very efficient
  * Usable by non privileged users
  * Runs on Linux kernels 2.4.X and 2.6.X
  * Has proven very stable over time"

subpackages="$pkgname-devel"
openrc_services="fuse default true"
Add_dependency run glibc

post_install()
{
	# Remove static dev nodes.
	rm -rf ${DESTDIR}/dev

	# Remove provided init script, we use our own.
	rm -f ${DESTDIR}/etc/init.d/fuse
	install -m755 ${FILESDIR}/fuse.rc ${DESTDIR}/etc/init.d/fuse
}
