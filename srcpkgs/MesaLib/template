# Template build file for 'MesaLib'.
pkgname=MesaLib
version=9.0
revision=1
wrksrc="Mesa-${version}"
build_style=gnu-configure
configure_args="--enable-glx-tls --enable-shared-glapi --enable-gallium-g3dvl
 --enable-gles1 --enable-gles2 --enable-openvg --enable-egl --disable-va
 --with-dri-driverdir=/usr/lib/xorg/modules/dri --enable-vdpau --enable-xa
 --enable-gallium-egl --enable-xvmc --enable-osmesa --enable-texture-float
 --with-gallium-drivers=r300,r600,radeonsi,svga,swrast,nouveau
 --with-dri-drivers=i915,i965,r200,radeon,nouveau,swrast --enable-gbm"
subpackages="libgbm libEGL libglapi libGLES libGL libOpenVG libOSMesa MesaLib-devel"
short_desc="Graphics library similar to SGI's OpenGL"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://www.mesa3d.org/"
license="MIT, LGPL-2.1"
distfiles="ftp://ftp.freedesktop.org/pub/mesa/$version/$pkgname-$version.tar.bz2"
checksum=0b7d206a2721d1c843f3decb71e10f86941cb4ddfd4c8a48cee75e7f0aabc3b5
long_desc="
 MesaLib is a 3-D graphics library with an API which is very similar to
 that of OpenGL*. To the extent that Mesa utilizes the OpenGL command syntax
 or state machine, it is being used with authorization from Silicon Graphics,
 Inc. However, the author makes no claim that Mesa is in any way a
 compatible replacement for OpenGL or associated with Silicon Graphics, Inc."

makedepends="perl flex pkg-config glproto dri2proto>=2.1 makedepend
 libXext-devel libXxf86vm-devel libXdamage-devel libXfixes-devel libxcb-devel
 libudev-devel>=183 libdrm-devel expat-devel libXt-devel talloc-devel
 libxml2-python llvm-devel libvdpau-devel libXvMC-devel>=1.0.6 automake"

pre_configure() {
	./autogen.sh
}
