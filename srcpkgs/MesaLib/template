# Template build file for 'MesaLib'.
pkgname=MesaLib
version=8.0.3
wrksrc="Mesa-${version}"
distfiles="ftp://ftp.freedesktop.org/pub/mesa/$version/$pkgname-$version.tar.bz2"
build_style=gnu-configure
configure_args="--enable-glx-tls --enable-shared-glapi --enable-gallium-g3dvl
--enable-shared-dricore --enable-gles1 --enable-gles2 --enable-openvg
--enable-egl --with-dri-driverdir=/usr/lib/xorg/modules/dri --enable-xa
--enable-gallium-egl --disable-va --enable-vdpau --enable-xvmc --enable-xa
--enable-texture-float --with-gallium-drivers=i915,r300,r600,svga,swrast
--with-dri-drivers=i915,i965,r200,radeon,swrast"
short_desc="Graphics library similar to SGI's OpenGL"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://www.mesa3d.org/"
license="MIT, LGPL-2.1"
checksum=96812c59b0923314914185a2b064eb5245f1228a319c4db94835ce1c84da407f
long_desc="
 MesaLib is a 3-D graphics library with an API which is very similar to
 that of OpenGL*. To the extent that Mesa utilizes the OpenGL command syntax
 or state machine, it is being used with authorization from Silicon Graphics,
 Inc. However, the author makes no claim that Mesa is in any way a
 compatible replacement for OpenGL or associated with Silicon Graphics, Inc."

# XXX reenable nouveau driver when it's updated for libdrm>=2.4.34
subpackages="libEGL libglapi libGLES libGL libGLU libOpenVG"
subpackages="${subpackages} ${pkgname}-devel"

Add_dependency build perl		">=0"
Add_dependency build flex
Add_dependency build pkg-config
Add_dependency build glproto
Add_dependency build dri2proto		">=2.1"
Add_dependency build makedepend
Add_dependency build libXext-devel
Add_dependency build libXxf86vm-devel
Add_dependency build libXdamage-devel
Add_dependency build libXfixes-devel
Add_dependency build libxcb-devel
Add_dependency build libudev-devel
Add_dependency build libdrm-devel
Add_dependency build expat-devel
Add_dependency build libXt-devel
Add_dependency build talloc-devel
Add_dependency build libxml2-python
Add_dependency build llvm-devel
Add_dependency build libvdpau-devel
Add_dependency build libXvMC-devel ">=1.0.6"
