# Template build file for 'MesaLib'.
pkgname=MesaLib
version=8.0.3
revision=1
wrksrc="Mesa-${version}"
distfiles="ftp://ftp.freedesktop.org/pub/mesa/$version/$pkgname-$version.tar.bz2"
build_style=gnu-configure
configure_args="--enable-glx-tls --enable-shared-glapi --enable-gallium-g3dvl
--enable-shared-dricore --enable-gles1 --enable-gles2 --enable-openvg
--enable-egl --with-dri-driverdir=/usr/lib/xorg/modules/dri --enable-xa
--enable-gallium-egl --disable-va --enable-vdpau --enable-xvmc --enable-xa
--enable-texture-float --with-gallium-drivers=i915,r300,r600,svga,swrast
--with-dri-drivers=i915,i965,r200,radeon,swrast"
makedepends="perl>=0 flex pkg-config glproto dri2proto>=2.1 makedepend libXext-devel libXxf86vm-devel libXdamage-devel libXfixes-devel libxcb-devel libudev-devel>=183 libdrm-devel expat-devel libXt-devel talloc-devel libxml2-python llvm-devel libvdpau-devel libXvMC-devel>=1.0.6"
# XXX reenable nouveau driver when it's updated for libdrm>=2.4.34
subpackages="libEGL libglapi libGLES libGL libGLU libOpenVG MesaLib-devel"
short_desc="Graphics library similar to SGI's OpenGL"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://www.mesa3d.org/"
license="MIT, LGPL-2.1"
checksum=96812c59b0923314914185a2b064eb5245f1228a319c4db94835ce1c84da407f
long_desc="
 MesaLib is a 3-D graphics library with an API which is very similar to
 that of OpenGL*. To the extent that Mesa utilizes the OpenGL command syntax
 or state machine, it is being used with authorization from Silicon Graphics,
 Inc. However, the author makes no claim that Mesa is in any way a
 compatible replacement for OpenGL or associated with Silicon Graphics, Inc."
