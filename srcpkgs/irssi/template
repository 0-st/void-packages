# Template build file for 'irssi'
pkgname=irssi
version=0.8.14
revision=1
distfiles="http://www.irssi.org/files/$pkgname-$version.tar.bz2"
configure_args="--with-proxy --with-perl=module"
build_style=gnu_configure
short_desc="Secure and modular IRC client with text mode user interface"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=63ea70eb1ce6fb3c995e984f919dcd18882e916478779dd899de9385ef8fdf28
long_desc="
 Irssi is a modular IRC client that currently has only text mode user
 interface, but 80-90% of the code isn't text mode specific, so other UIs
 could be created pretty easily. Also, Irssi isn't really even IRC specific
 anymore, there's already a working SILC module available. Support for other
 protocols like ICQ could be created some day too."

conf_files="/etc/irssi.conf"
subpackages="irssi-devel irssi-perl"

Add_dependency run glibc
Add_dependency run glib
Add_dependency run openssl
Add_dependency run ncursesw
Add_dependency build perl
Add_dependency build pkg-config
Add_dependency build glib-devel
Add_dependency build openssl-devel
Add_dependency build ncursesw-devel

pre_configure()
{
	sed -i -e "s|/usr/include/ncurses|/usr/include/ncursesw|g" \
	       -e "s|-lncurses|-lncursesw|g" ${wrksrc}/configure
}
