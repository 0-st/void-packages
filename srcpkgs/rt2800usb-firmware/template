# Template file for 'rt2800usb-firmware'
pkgname=rt2800usb-firmware
version=8
_distname=RT2870_Firmware
wrksrc=${_distname}_V${version}
distfiles="ftp://ftp.archlinux.org/other/rt2870usb-fw/${_distname}_V${version}.zip"
build_style=custom-install
short_desc="Firmware for RalinkÂ® T2800 USB network adaptors"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=b2c70b20c880170110cb09af154e680961f83d45f6d1c2118c28806bcbd703b4
long_desc="
 This package contains the firmware required by the rt2800usb driver for Linux.
 Usage of the firmware is subject to the terms and conditions contained
 inside the provided LICENSE.ralink-firmware.txt file.
 Please read it carefully."

noarch=yes
noextract=yes
Add_dependency build libarchive

do_install()
{
	bsdtar xf ${XBPS_SRCDISTDIR}/$(basename ${distfiles}) \
		-C ${XBPS_BUILDDIR} || return 1
	install -d ${DESTDIR}/lib/firmware ${DESTDIR}/usr/share/doc/${pkgname}
	install -m644 ${wrksrc}/rt* ${DESTDIR}/lib/firmware
	install -m644 ${wrksrc}/LICENSE* ${DESTDIR}/usr/share/doc/${pkgname}
}
