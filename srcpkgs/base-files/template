# Template file for 'base-files'
pkgname=base-files
version=0.64
noarch=yes
bootstrap=yes
fulldepends="base-directories xbps-triggers"
revision=1
short_desc="Void GNU/Linux base system files"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://code.google.com/p/xbps"
license="Public domain"
long_desc="
 This package installs the base system files that aren't installed by any
 other package and are required on any GNU/Linux system."

conf_files="
/etc/inputrc
/etc/profile
/etc/hosts
/etc/host.conf
/etc/securetty
/etc/skel/.bash_profile
/etc/skel/.bash_logout
/etc/skel/.bashrc
/etc/skel/.inputrc
/etc/issue"

do_install() {
	# Install misc config files.
	for f in bash_logout bash_profile bashrc inputrc; do
		vinstall ${FILESDIR}/dot_${f} 644 etc/skel .${f}
	done

	vinstall ${FILESDIR}/securetty 600 etc
	for f in profile hosts host.conf issue lsb-release inputrc; do
		vinstall ${FILESDIR}/${f} 644 etc
	done
	vmkdir etc/profile.d
	install -m644 ${FILESDIR}/*.sh ${DESTDIR}/etc/profile.d
	install -m644 ${FILESDIR}/DIR_COLORS* ${DESTDIR}/etc

	vinstall ${FILESDIR}/usb-load-ehci-first 644 etc/modprobe.d \
		usb-load-ehci-first.conf
	vinstall ${FILESDIR}/blacklist.conf 644 etc/modprobe.d

	# Install comman licenses, from Debian.
	vmkdir usr/share/licenses
	install -m644 ${FILESDIR}/licenses/* ${DESTDIR}/usr/share/licenses

	# vkpurge
	vinstall ${FILESDIR}/vkpurge 755 usr/sbin vkpurge
}
