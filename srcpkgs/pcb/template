# Template file for 'pcb'
pkgname=pcb
version=20140316
revision=1
build_style=gnu-configure
hostmakedepends="flex bison intltool pkg-config desktop-file-utils"
makedepends="MesaLib-devel glu-devel gtk+-devel gtkglext-devel gd-devel tk-devel"
depends="pcb-data geda"
mutable_files="/usr/share/mime/application/x-pcb-footprint.xml
 /usr/share/mime/application/x-gerber.xml
 /usr/share/mime/application/x-pcb-layout.xml
 /usr/share/mime/application/x-excellon.xml
 /usr/share/mime/application/x-pcb-netlist.xml"
short_desc="Interactive printed circuit board editor"
maintainer="Jürgen Buchmüller <pullmoll@t-online.de>"
license="GPL-2"
homepage="http://pcb.geda-project.org/news.html"
distfiles="http://ftp.geda-project.org/${pkgname}/${pkgname}-${version}/${pkgname}-${version}.tar.gz"
checksum=82c4f39438ee4e278196a3b67ef021145dcfbb00519508ccf51aa7832121c950

post_install() {
	# Remove unwanted files in /usr/share/mime and /usr/share/applications
	find ${DESTDIR}/usr/share/mime -maxdepth 1 -type f | xargs rm -v
	rm -v ${DESTDIR}/usr/share/applications/mimeinfo.cache
}
pcb-data_package() {
	noarch=yes
	short_desc=" - data files"
	pkg_install() {
		vmove usr/share/pcb
	}
}
