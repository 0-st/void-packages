# Template file for 'gnome-panel'
pkgname=gnome-panel
version=3.2.1
distfiles="${GNOME_SITE}/$pkgname/3.2/$pkgname-$version.tar.xz"
build_style=gnu-configure
configure_args="--disable-schemas-install --disable-scrollkeeper
--with-gconf-schema-file-dir=/usr/share/gconf/schemas
--disable-schemas-compile"
short_desc="GNOME Panel"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://www.gnome.org"
license="GPL-2"
checksum=ae5ed578f9f54ad763bf5e46fd5431cdbc06fa2eefea03b390c90a3ffb18870d
long_desc="
 This packages the GNOME panel."

gconf_schemas="${pkgname}.schemas"
gtk_iconcache_dirs="/usr/share/icons/hicolor"
subpackages="$pkgname-devel"

Add_dependency run glibc
Add_dependency run libSM
Add_dependency run libICE
Add_dependency run gnome-desktop
Add_dependency run gtk+3
Add_dependency run atk
Add_dependency run gdk-pixbuf
Add_dependency run cairo
Add_dependency run pango
Add_dependency run GConf
Add_dependency run gnome-menus
Add_dependency run dconf
Add_dependency run glib
Add_dependency run telepathy-glib
Add_dependency run libXrandr
Add_dependency run libX11
Add_dependency run evolution-data-server
Add_dependency run libical
Add_dependency run librsvg
Add_dependency run libgweather
Add_dependency run libwnck
Add_dependency run freetype
Add_dependency run fontconfig
Add_dependency run libXau

Add_dependency run hicolor-icon-theme
Add_dependency run desktop-file-utils

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build gnome-doc-utils
Add_dependency build gobject-introspection
Add_dependency build gnome-desktop-devel
Add_dependency build gnome-menus-devel
Add_dependency build evolution-data-server-devel
Add_dependency build librsvg-devel
Add_dependency build libwnck-devel
Add_dependency build telepathy-glib-devel
Add_dependency build dconf-devel
Add_dependency build NetworkManager-devel

post_install()
{
	mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
	gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/${gconf_schemas} \
		--domain ${pkgname}-3.0 ${wrksrc}/${gconf_schemas}
}
