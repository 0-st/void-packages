# Template file for 'dumb'
pkgname=dumb
version=1.0
revision=1
build_wrksrc=${pkgname}/cmake
build_style=cmake
configure_args="-DBUILD_SHARED_LIBS:BOOL=ON"
hostmakedepends="cmake"
short_desc="IT, XM, S3M and MOD player library"
maintainer="beefcurtains <beefcurtains@users.noreply.github.com>"
license="BSD"
homepage="http://${pkgname}.sourceforge.net/"
distfiles="https://github.com/kode54/${pkgname}/archive/${version}.tar.gz"
checksum=09ea62fd01f6e71cb28a8a8c1c1e356e7eb38f5e003b684e12eb1944c6d35fa5

case "$XBPS_TARGET_MACHINE" in
	i686*|x86_64*)
		CFLAGS="-D_USE_SSE -msse"
		;;
esac

pre_install() {
	vdoc ../readme.txt
	vdoc ../release.txt
	vlicense ../licence.txt
}

dumb-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove "usr/lib/*.so"
		vmove usr/include
	}
}
