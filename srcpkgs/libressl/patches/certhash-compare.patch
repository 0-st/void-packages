subtraction is not comparison
http://www.tedunangst.com/flak/post/subtraction-is-not-comparison

--- apps/certhash.c	2015-02-27 16:11:46.000000000 +0100
+++ apps/certhash.c	2015-03-05 13:45:15.832647817 +0100
@@ -121,7 +121,7 @@
 	struct hashinfo *hib = *(struct hashinfo **)b;
 	int rv;
 
-	rv = hia->hash - hib->hash;
+	rv = hia->hash < hib->hash ? -1 : hia->hash > hib->hash;
 	if (rv != 0)
 		return (rv);
 	rv = memcmp(hia->fingerprint, hib->fingerprint,
