# Template file for 'mercurial'
pkgname=mercurial
version=2.0.2
homepage="http://mercurial.selenic.com"
distfiles="$homepage/release/$pkgname-$version.tar.gz"
build_style=python-module
short_desc="Fast, lightweight source control management system"
maintainer="Juan RP <xtraeme@gmail.com>"
license="GPL-2"
checksum=ca8b8fb93f2e3e8c3cdf2f81d87e92592f5f20c5bfcaaeb6a75550d4a69572c9
long_desc="
 Mercurial is a fast, lightweight Source Control Management system
 designed for efficient handling of very large distributed projects.

 Fast
        * Extremely high-performance delta-compressed storage scheme
        * Optimized for disk layout and access efficiency
        * Complete cross-indexing of files and changesets
        * Bandwidth and CPU efficient HTTP and SSH sync protocols

 Scalable
	* Distributed development model supports unlimited numbers
	  of developers
        * Allows arbitrary merging between developer branches
	* Doesn't significantly degrade with large numbers of files
	  or changesets
        * No waiting for locks!

 Robust
        * SHA1 integrity checking on repository data
        * Append-only storage model with transaction journalling
        * Fast full-repository verification
        * Convenient backup

 Easy to use
        * Most commands are familiar to users of CVS and other systems
        * Built-in command help
        * Integrated stand-alone web interface
        * Works with various GUI tools

 Easy to adopt
        * Runs on UNIX, MacOS X, and Windows
        * Conversion tools available for many popular SCMs
        * Allows a variety of usage models
        * Supports user-defined hooks and extensions

 Free
        * Source code available under the GPL license
        * Actively community supported and developed"

pycompile_module="$pkgname hgext"

Add_dependency build gettext
Add_dependency build python-devel

post_install()
{
	install -d ${DESTDIR}/usr/share/man/man1
	install -d ${DESTDIR}/usr/share/man/man5
	install -m 644 doc/*.1 ${DESTDIR}/usr/share/man/man1
	install -m 644 doc/*.5 ${DESTDIR}/usr/share/man/man5
}
