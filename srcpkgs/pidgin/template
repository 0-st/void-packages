# Template file for 'pidgin'
pkgname=pidgin
version=2.10.6
revision=1
build_style=gnu-configure
configure_args="--disable-schemas-install --disable-meanwhile
 --enable-cyrus-sasl --disable-doxygen --enable-nm --disable-vv
 --with-system-ssl-certs=/etc/ssl/certs --disable-tk
 --with-gconf-schema-file-dir=/usr/share/gconf/schemas
 --disable-gnutls"
short_desc="Multi-protocol instant messaging client"
maintainer="Juan RP <xtraeme@gmail.com>"
license="GPL-2"
homepage="http://pidgin.im/"
distfiles="${SOURCEFORGE_SITE}/pidgin/pidgin-${version}.tar.bz2"
checksum=3e25a633b97cbfa8326999a30282e7a662a9b9bbf2853be84af0b8fb60392c96
long_desc="
 Pidgin is an easy to use and free chat client used by millions. Connect to
 AIM, MSN, Yahoo, and more chat networks all at once."

subpackages="libpurple libpurple-devel libgnt libgnt-devel
 finch finch-devel pidgin-devel"

makedepends="pkg-config intltool glib-devel gtk+-devel libXext-devel
 libXScrnSaver-devel gtkspell-devel startup-notification-devel ncurses-devel
 libxml2-devel GConf-devel gst-plugins-base-devel libidn-devel python-devel
 avahi-glib-libs-devel dbus-glib-devel NetworkManager-devel nss-devel
 libsasl-devel"

post_install() {
        mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
        gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/purple.schemas \
                --domain purple ${wrksrc}/*.schemas
}
