# Template file for 'pcc'
pkgname=pcc
_distver=1.0.0.BETA
_datever=20110224
version=${_distver}
wrksrc=pcc-${version}
distfiles="http://pcc.ludd.ltu.se/ftp/pub/pcc-beta/pcc-${_distver}-${_datever}.tgz"
build_style=gnu_configure
configure_args="--enable-tls"
short_desc="Portable C Compiler"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=aff14ceee0d53866a43b71854f3c8ba5690ac4d7835045f35ae6525d2239d7d8
long_desc="
 The compiler is based on the original Portable C Compiler by S. C. Johnson,
 written in the late 70's. About 50% of the frontend code and 80% of the
 backend code has been rewritten."

disable_parallel_build=yes

Add_dependency run glibc
Add_dependency build flex
Add_dependency full pcc-libs

post_install()
{
	# Rename conflicting cpp.1 manpage.
	mv ${DESTDIR}/usr/share/man/man1/cpp.1 \
		${DESTDIR}/usr/share/man/man1/pcc-cpp.1
}
