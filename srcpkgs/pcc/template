# Template file for 'pcc'
pkgname=pcc
version=20110224
distfiles="http://pcc.ludd.ltu.se/ftp/pub/pcc/pcc-$version.tgz"
build_style=gnu_configure
configure_args="--enable-tls"
short_desc="Portable C Compiler"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=8628ff61e7552c05af1f512978fb11bf41c0b5c705fb1e1fe34f1cfe1c8b0fb3
long_desc="
 The compiler is based on the original Portable C Compiler by S. C. Johnson,
 written in the late 70's. About 50% of the frontend code and 80% of the
 backend code has been rewritten."

disable_parallel_build=yes

Add_dependency run glibc
Add_dependency build flex
Add_dependency full pcc-libs

post_install()
{
	# Rename conflicting cpp.1 manpage.
	mv ${DESTDIR}/usr/share/man/man1/cpp.1 \
		${DESTDIR}/usr/share/man/man1/pcc-cpp.1
}
