# Template file for 'sysstat'
pkgname=sysstat
version=11.1.1
revision=1
build_style=gnu-configure
configure_args="--enable-yesterday --enable-install-isag"
make_dirs="/var/log/sa 0755 root root"
hostmakedepends="pkg-config"
depends="lm-sensors"
short_desc="A collection of performance monitoring tools"
maintainer="Christian Neukirchen <chneukirchen@gmail.com>"
license="GPL-2"
homepage="http://pagesperso-orange.fr/sebastien.godard/"
distfiles="http://pagesperso-orange.fr/sebastien.godard/${pkgname}-${version}.tar.gz"
checksum=71b9c6e1e70aba4f069af299be7c8fa8e6c2fc8d5469744d47df8e36f4f918a3

build_options="systemd"

if [ "$build_option_systemd" ]; then
  configure_args+=" --with-systemdsystemunitdir=/usr/lib/systemd/system"
else
  configure_args+=" --with-systemdsystemunitdir=none --enable-install-cron"
fi

pre_configure() {
    sed -i 's/lib64/lib/' configure
    export conf_dir=/etc/default
    vmkdir etc/cron.daily
    vmkdir etc/cron.hourly
    vmkdir usr/lib/systemd/system
}
