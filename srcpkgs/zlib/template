# Template build file for 'zlib'
pkgname=zlib
version=1.2.5
revision=2
distfiles="http://www.zlib.net/$pkgname-$version.tar.bz2"
build_style=configure
configure_args="--prefix=/usr --shared"
if [ "${xbps_machine}" = "x86_64" ]; then
	configure_args="${configure_args} --64"
fi
make_build_args="CFLAGS=-fPIC"
make_install_args="LDCONFIG="
short_desc="A compression/decompression Library"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=239aead2f22f16bfcfa6a6a5150dcbd6d6f2e4d1eaa8727b5769ea014120b307
long_desc="
 This is a general purpose data compression library. All the code
 is thread safe. The data format used by the library is described
 by RFCs (Request for Comments) 1950 to 1952."

base_chroot=yes
subpackages="zlib-devel"
Add_dependency run glibc

post_install()
{
	cd ${DESTDIR}/usr/lib && \
		ln -s libz.so.${version} libz.so.1 &&
		ln -s libz.so.${version} libz.so
}
