# Template build file for 'epdfview'.
pkgname=epdfview
version=0.1.7
revision=7
distfiles="http://trac.emma-soft.com/$pkgname/chrome/site/releases/$pkgname-$version.tar.bz2"
build_style=gnu_configure
short_desc="Lightweight PDF viewer using Poppler and GTK+"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=0afbb0f348d4ba916cf58da48b4749b7cca6a9038136b27dc652161913704ae8
long_desc="
 ePDFView is a free lightweight PDF document viewer using Poppler and
 GTK+ libraries.

 The aim of ePDFView is to make a simple PDF document viewer, in the lines
 of Evince but without using the Gnome libraries."

gtk_iconcache_dirs="/usr/share/icons/hicolor"

Add_dependency run libgcc
Add_dependency run glibc
Add_dependency run libstdc++
Add_dependency run glib
Add_dependency run pango
Add_dependency run gdk-pixbuf
Add_dependency run gtk+
Add_dependency run poppler-glib

Add_dependency build pkg-config
Add_dependency build glib-devel
Add_dependency build pango-devel
Add_dependency build gtk+-devel
Add_dependency build poppler-glib-devel
Add_dependency build libstdc++-devel
Add_dependency build automake

Add_dependency full hicolor-icon-theme
Add_dependency full desktop-file-utils

pre_configure()
{
	cd ${wrksrc} && touch ChangeLog && autoreconf -fi
}

post_install()
{
	install -Dm644 ${wrksrc}/data/icon_epdfview-24.png \
		"${DESTDIR}/usr/share/icons/hicolor/24x24/apps/epdfview.png" \
		|| return 1
	install -Dm644 ${wrksrc}/data/icon_epdfview-32.png \
		"${DESTDIR}/usr/share/icons/hicolor/32x32/apps/epdfview.png" \
		|| return 1
	install -Dm644 ${wrksrc}/data/icon_epdfview-48.png \
		"${DESTDIR}/usr/share/icons/hicolor/48x48/apps/epdfview.png" \
		|| return 1
}
