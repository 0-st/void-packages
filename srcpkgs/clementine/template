# Template file for 'clementine'
pkgname=clementine
version=1.2.3
revision=1
build_style=cmake
hostmakedepends="git cmake taglib-devel sparsehash pkg-config"
makedepends="chromaprint-devel boost-devel gettext-devel gstreamer-devel gst-plugins-base-devel liblastfm-devel qt-devel glew-devel qjson-devel sqlite-devel protobuf-devel libplist-devel libusbmuxd-devel libmtp-devel libcdio-devel qca-devel pulseaudio-devel glu-devel udisks"
depends="desktop-file-utils gst-plugins-good gst-plugins-bad"
short_desc="A modern music player and library organizer"
maintainer="Andrea Brancaleoni <miwaxe@gmail.com>"
license="GPL-3"
homepage="https://www.clementine-player.org/"
configure_args+="-DGSTREAMER_INCLUDE_DIRS:STRING=/usr/include/gstreamer-0.10/ "

do_fetch() {
	local url="git://github.com/clementine-player/Clementine"
	msg_normal "Fetching source from $url ...\n"
	git clone --branch ${version} ${url} ${pkgname}-${version}
	cd ${pkgname}-${version}
	git cherry-pick ec580cb815c16ec1ab43a469d5af7d51d8d03082 # No namespaces for DBus interfaces. Fixes issue n4401
}
