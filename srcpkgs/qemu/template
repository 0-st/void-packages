# Template file for 'qemu'
pkgname=qemu
version=0.15.0
distfiles="http://wiki.qemu.org/download/qemu-${version}.tar.gz"
build_style=configure
configure_args="--prefix=/usr --enable-sdl --sysconfdir=/etc --enable-spice
--enable-curses --disable-curl --enable-bluez --enable-io-thread
--enable-kvm --enable-nptl --enable-uuid --enable-mixemu --disable-vnc-sasl
--audio-drv-list=alsa,sdl --disable-xen"
short_desc="Open Source Processor Emulator"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://qemu.org"
license="GPL-2, LGPL-2.1"
checksum=0197e52dba07aeb6dfe0343b0c2ae08ed374d2cb0af3bb9ec73fed5baa0cb74d
long_desc="
 QEMU is a generic and open source machine emulator and virtualizer.

 When used as a machine emulator, QEMU can run OSes and programs made for
 one machine (e.g. an ARM board) on a different machine (e.g. your own PC).
 By using dynamic translation, it achieves very good performances."

conf_files="/etc/qemu/target-${xbps_machine}.conf"
nostrip=yes

Add_dependency run glibc
Add_dependency run zlib
Add_dependency run glib
Add_dependency run alsa-lib
Add_dependency run libbluetooth
Add_dependency run ncurses-libs
Add_dependency run libuuid
Add_dependency run libX11
Add_dependency run attr
Add_dependency run libpng
Add_dependency run gnutls
Add_dependency run jpeg
Add_dependency run SDL
Add_dependency run spice
Add_dependency run MesaLib

Add_dependency build coreutils # /bin/od
Add_dependency build attr-devel
Add_dependency build libpng-devel
Add_dependency build jpeg-devel
Add_dependency build zlib-devel
Add_dependency build ncurses-devel
Add_dependency build libuuid-devel
Add_dependency build libX11-devel
Add_dependency build alsa-lib-devel
Add_dependency build gnutls-devel
Add_dependency build SDL-devel
Add_dependency build libbluetooth-devel
Add_dependency build spice-devel
Add_dependency build glib-devel
Add_dependency build MesaLib-devel
