# Template file for 'pcsc-acsccid'
pkgname=pcsc-acsccid
_origname=acsccid
version=1.0.6
revision=1
build_style=gnu-configure
maintainer="Carlo Dormeletti <carlo.dormeletti@email.it>"
homepage="http://acsccid.sourceforge.net"
license="LGPL-2.1"
short_desc="PC/SC driver to support ACS CCID smart card readers"
configure_args="--enable-udev"
hostmakedepends="pkg-config flex perl"
makedepends="pcsclite-devel libudev-devel libusb-compat-devel"
depends="pcsclite"
distfiles="${SOURCEFORGE_SITE}/${_origname}/${_origname}-${version}.tar.bz2"
checksum="6079b87228ac2411cce2ee1111db12cb08e3d774b8f3cfd38ed6e5d27071387e"
wrksrc=${_origname}-${version}

do_install(){
    make DESTDIR=${DESTDIR} install
    mkdir -p ${DESTDIR}/usr/share/${pkgname}
    mkdir -p ${DESTDIR}/usr/lib/udev/rules.d
    cp ${wrksrc}/src/92_pcscd_acsccid.rules ${DESTDIR}/usr/lib/udev/rules.d/
    cp ${wrksrc}/src/supported_readers.txt ${DESTDIR}/usr/share/${pkgname}
    cp ${wrksrc}/README ${DESTDIR}/usr/share/${pkgname}
}
