# Template file for 'ncurses32'
pkgname=ncurses32
version=5.9
distfiles="
http://xbps.nopcode.org/repos/current/i686/ncurses-libs-${version}.i686.xbps
http://xbps.nopcode.org/repos/current/i686/ncurses-devel-${version}.i686.xbps"
depends="glibc32"
makedepends="bsdtar"
short_desc="A System V Release 4.0 curses emulation library (32 bits)"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum="
1a4593225d3d4bc96d423c1dae519d4b0271fd20007065a6751d044a2b7cca6c
59318d6cebe8f839a26d4a6114762bbec9d49a0dcaf1bbee5e25fd296a82cb31"
long_desc="
 The ncurses (new curses) library is a freeware emulation of System V Release
 4.0 curses. It uses terminfo format, supports pads and color and multiple
 highlights and forms characters and function-key mapping, and has all the
 other SYSV-curses enhancements over BSD curses. The distribution includes
 the library and support utilities, including a terminfo compiler tic, a 
 ecompiler infocmp, clear, tput, tset, and a termcap conversion tool captoinfo.
 Full manual pages are provided for the library and tools.

 This package installs the ncurses 32 bit libraries for x86_64 systems."

subpackages="$pkgname-devel"
nostrip=yes
noextract=yes
noverifyrdeps=yes
only_for_archs=x86_64


do_install()
{
	for f in ${distfiles}; do
		local srcfile="${XBPS_SRCDISTDIR}/$(basename ${f})"
		bsdtar xf ${srcfile} -C ${wrksrc}
	done

	vmkdir lib32
	vmkdir usr/lib32
	vcopy "lib/*.so*" lib32
	vcopy "usr/lib/*.a" usr/lib32
	vcopy "usr/lib/*.so*" usr/lib32
	ln -sf /lib32/libncursesw.so.6.0 ${DESTDIR}/usr/lib32/libncursesw.so
}
