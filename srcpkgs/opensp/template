# Template file for 'opensp'
pkgname=opensp
version=1.5.2
wrksrc="OpenSP-${version}"
distfiles="${SOURCEFORGE_SITE}/openjade/OpenSP-$version.tar.gz"
build_style=gnu-configure
configure_args="--enable-http --enable-default-catalog=/usr/share/sgml/catalog"
revision=1
short_desc="SGML parser, successor to "sp""
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://openjade.sourceforge.net/"
license="MIT"
checksum=57f4898498a368918b0d49c826aa434bb5b703d2c3b169beb348016ab25617ce
long_desc="
 This package is a collection of SGML/XML tools called OpenSP. It is a fork
 from James Clark's SP suite.

 These tools are used to parse, validate, and normalize SGML and XML files.
 The central programs included in this package are 'onsgmls', which replaces
 sgmls, 'ospam', 'ospent', 'osgmlnorm', and 'osx'. "

keep_libtool_archives=yes
subpackages="opensp-devel"
export sgml_entries="CATALOG /usr/share/OpenSP/catalog --"

Add_dependency build xmlto
Add_dependency full xmlcatmgr

post_install() {
	# Some programs expect 'nsgmls'... make it a symlink.
	cd ${DESTDIR}/usr/bin && ln -s onsgmls nsgmls
}
