# Template file for 'systemd'
pkgname=systemd
version=29
distfiles="http://www.freedesktop.org/software/$pkgname/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--with-distro=other --prefix=/usr --with-rootdir= --localstatedir=/var"
short_desc="systemd is a system and service manager for Linux"
maintainer="Mike Rosset <mike.rosset@gmail.com>"
checksum=c41153c3ebab9e25b16fa1670946ce6dfdd1515608a37eedd80d2bbe46629971
long_desc="
 systemd is a system and service manager for Linux, compatible with SysV and LSB
 init scripts. systemd provides aggressive parallelization capabilities, uses 
 socket and D-Bus activation for starting services, offers on-demand starting of 
 daemons, keeps track of processes using Linux cgroups, supports snapshotting and 
 restoring of the system state, maintains mount and automount points and 
 implements an elaborate transactional dependency-based service control logic. 
 It can work as a drop-in replacement for sysvinit.
"


Add_dependency run dbus-libs
Add_dependency run glibc
Add_dependency run libcap
Add_dependency run libudev

Add_dependency build dbus-devel
Add_dependency build glibc-devel
Add_dependency build libcap-devel
Add_dependency build libnotify-devel
Add_dependency build libudev-devel
Add_dependency build m4

post_install()
{
	cd ${DESTDIR}/usr/share/man/man8
	for manpage in telinit halt reboot poweroff runlevel shutdown; do
		mv {,systemd.}"$manpage.8"
	done
}
