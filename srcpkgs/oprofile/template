# Template file for 'oprofile'
pkgname=oprofile
version=0.9.7
revision=2
homepage="http://oprofile.sourceforge.net"
distfiles="${SOURCEFORGE_SITE}/$pkgname/$pkgname-$version.tar.gz"
build_style=gnu-configure
configure_args="--with-kernel-support --with-x --enable-gui=qt4"
short_desc="Transparent low-overhead system-wide profiler for Linux"
maintainer="Juan RP <xtraeme@gmail.com>"
license="GPL-2"
checksum=cb5b507d5dea058d223fcad3cec8ff9638a4163106afd66d176798bbd973d527
long_desc="
 OProfile is a system-wide profiler for Linux systems, capable of profiling
 all running code at low overhead.

 OProfile leverages the hardware performance counters of the CPU to enable
 profiling of a wide variety of interesting statistics, which can also be used
 for basic time-spent profiling. All code is profiled: hardware and software
 interrupt handlers, kernel modules, the kernel, shared libraries, and
 applications."

subpackages="$pkgname-qt4-gui"
system_accounts="oprofile"
oprofile_homedir="/var/lib/oprofile"
make_dirs="/var/lib/oprofile 0750 oprofile oprofile"

Add_dependency build coreutils
Add_dependency build qt-devel
Add_dependency build zlib-devel
Add_dependency build popt-devel
Add_dependency build binutils-devel
