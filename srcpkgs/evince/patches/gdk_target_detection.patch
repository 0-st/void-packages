If gdk-3.0.pc contains more than 1 backend, detection fails.
https://bugzilla.gnome.org/show_bug.cgi?id=672613

--- configure.ac.orig	2012-03-22 11:01:48.336346451 +0100
+++ configure.ac	2012-03-22 11:02:10.110810019 +0100
@@ -202,7 +202,7 @@ AC_ARG_WITH([smclient],
 		  [Setting smclient backend (default:auto)])],
   [],
   [case "$GDK_TARGET" in
-    x11) case "$with_platform" in
+    x11*) case "$with_platform" in
            gnome) with_smclient=xsmp ;;
            *) with_smclient=no ;;
          esac ;;
