--- src/prop_object.c.orig	2012-05-15 16:34:56.968699452 +0200
+++ src/prop_object.c	2012-05-15 16:35:58.796906967 +0200
@@ -858,7 +858,7 @@ _prop_object_externalize_write_file(cons
 			goto bad;
 	}
 
-	if (fsync(fd) == -1)
+	if (fdatasync(fd) == -1)
 		goto bad;
 
 	myumask = umask(0);
