# Template file for 'Thunar'
pkgname=Thunar
version=1.3.2
distfiles="http://archive.xfce.org/src/xfce/thunar/1.3/Thunar-$version.tar.bz2"
build_style=gnu-configure
configure_args="--enable-gio-unix --enable-dbus --enable-gudev --enable-exif
--enable-pcre --enable-notifications"
short_desc="Thunar File Manager"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://thunar.xfce.org"
license="GPL-2, LGPL-2.1"
checksum=f1c65ab0bb7ade67fc006d5c023995ea92ebe445b0ac0dfeb675895e0a4640ac
long_desc="
 Thunar is a new modern file manager for the Xfce Desktop Environment.
 It has been designed from the ground up to be fast and easy-to-use.
 Its user interface is clean and intuitive, and does not include any
 confusing or useless options. Thunar is fast and responsive with a
 good start up time and directory load time."

conf_files="/etc/xdg/Thunar/uca.xml"
gtk_iconcache_dirs="/usr/share/icons/hicolor"
subpackages="$pkgname-devel"
make_dirs="/etc/polkit-1/localauthority 0700 root root"

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build libgudev-devel
Add_dependency build libnotify-devel
Add_dependency build libxfce4util-devel
Add_dependency build libxfce4ui-devel
Add_dependency build gtk+-devel
Add_dependency build dbus-glib-devel
Add_dependency build libexif-devel
Add_dependency build pcre-devel
Add_dependency build exo-devel
Add_dependency build xfce4-panel-devel
Add_dependency build startup-notification-devel

Add_dependency run gvfs
Add_dependency run hicolor-icon-theme
Add_dependency run desktop-file-utils

post_install() {
	# install udisks permission file
	install -dm755 ${DESTDIR}/etc/polkit-1/localauthority/50-local.d
	install -m644 ${FILESDIR}/org.freedesktop.udisks.pkla \
		${DESTDIR}/etc/polkit-1/localauthority/50-local.d/
}
