# Template file for 'dkms'
pkgname=dkms
version=2.1.1.2
distfiles="http://linux.dell.com/dkms/permalink/dkms-$version.tar.gz"
build_style=custom-install
short_desc="Dynamic Kernel Modules System"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=382380eac258aea2ac88fdc9d089ee324af2ede705c484920219d722e45aa490
long_desc="
 dkms is a framework which allows kernel modules to be dynamically built for
 each kernel on your system in a simplified and organized fashion."

conf_files="/etc/dkms/framework.conf"

noarch=yes
Add_dependency full bash
Add_dependency full module-init-tools
Add_dependency full gcc
Add_dependency full make
Add_dependency full coreutils

do_install()
{
	# We are only interested in the bare minimum.
	install -D -m755 dkms ${DESTDIR}/usr/sbin/dkms
	install -D -m644 dkms.8 ${DESTDIR}/usr/share/man/man8/dkms.8
	install -D -m644 dkms_dbversion ${DESTDIR}/var/lib/dkms/dkms_dbversion
	install -D -m755 dkms.bash-completion \
		${DESTDIR}/etc/bash_completion.d/dkms
	install -D -m644 dkms_framework.conf ${DESTDIR}/etc/dkms/framework.conf
}
