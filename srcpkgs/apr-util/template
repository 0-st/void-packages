# Template file for 'apr-util'
pkgname=apr-util
version=1.3.9
distfiles="http://www.apache.org/dist/apr/apr-util-${version}.tar.bz2"
build_style=gnu_configure
configure_args="--with-pgsql --with-mysql --with-sqlite3 --with-ldap
--with-berkeley-db --with-gdbm --with-apr=/usr --without-odbc
--with-expat=/usr --without-oracle"
short_desc="The Apache Portable Runtime Utility Library"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=8741a76c77ce605e723fd9683e99bee9da8c94a83b47ea2cea72f66255f0ec83
long_desc="
 APR is Apache's Portable Runtime Library, designed to be a support library
 that provides a predictable and consistent interface to underlying
 platform-specific implementations.
 
 APR Util is a utilities library implemented on top of APR, providing database
 access, xml parsing, and other useful functionality." 

# XXX: add freetds and unixodbc modules.
subpackages="$pkgname-db $pkgname-gdbm $pkgname-sqlite $pkgname-mysql"
subpackages="${subpackages} $pkgname-pgsql $pkgname-ldap $pkgname-devel"

Add_dependency run glibc
Add_dependency run libuuid
Add_dependency run expat
Add_dependency run apr

Add_dependency build zlib-devel
Add_dependency build openssl-devel
Add_dependency build apr-devel
Add_dependency build libuuid-devel
Add_dependency build expat-devel
Add_dependency build db-devel
Add_dependency build gdbm-devel
Add_dependency build sqlite-devel
Add_dependency build libldap-devel
Add_dependency build libmysqlclient-devel
Add_dependency build postgresql-libs-devel

post_install()
{
	# Remove unused stuff.
	rm -f ${DESTDIR}/usr/lib/apr-util-1/*.a
}
