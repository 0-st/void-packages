# Template build file for 'wxGTK'
pkgname=wxGTK
version=2.8.12.1
distfiles="${SOURCEFORGE_SITE}/wxpython/wxPython-src-${version}.tar.bz2"
wrksrc="wxPython-src-${version}"
makedepends="pkg-config zlib-devel libpng-devel jpeg-devel libXpm-devel tiff-devel expat-devel libX11-devel libXinerama-devel GConf-devel cairo-devel gtk+-devel MesaLib-devel"
revision=1
short_desc="The wxWidgets GUI toolkit library (GTK Version)"
maintainer="davehome <davehome@redthumb.info.tm>"
homepage="http://www.wxwidgets.org/"
license="wxWindows"
checksum=1f3f153d9f1504c6ce2d2c4b23e940b8f58b81f4cba35cda1a5bb31142243cd0
long_desc="
 C++ library that lets developers create applications for Windows, OS X, Linux
 and UNIX on 32-bit and 64-bit architectures as well as several mobile
 platforms including Windows Mobile, iPhone SDK and embedded GTK+. It has
 popular language bindings for Python, Perl, Ruby and many other languages.

 Unlike other cross-platform toolkits, wxWidgets gives its applications a truly
 native look and feel because it uses the platform's native API rather than
 emulating the GUI. It's also extensive, free, open-source and mature."

subpackages="${pkgname}-devel"

# XXX: GStreamer support?

do_configure() {
	./configure --prefix=/usr --enable-monolithic --with-gtk=2 --with-x \
		--with-opengl --enable-unicode --enable-graphics_ctx \
		--enable-optimize --enable-mediactrl --with-regex=builtin \
		--with-libpng=sys --with-libxpm=sys --with-libjpeg=sys \
		--with-libtiff=sys --disable-precomp-headers
}

do_build() {
	make ${makejobs}
	make ${makejobs} -C locale allmo
	make ${makejobs} -C contrib/src
}

do_install() {
	make DESTDIR="${DESTDIR}" install
	make -C contrib/src DESTDIR="${DESTDIR}" install
	vinstall docs/licence.txt 0644 "usr/share/licenses/${pkgname}" LICENSE
}
