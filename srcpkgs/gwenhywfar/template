# Template file for 'gwenhywfar'
pkgname=gwenhywfar
version=4.13.0
revision=1
_dnrel=77
hostmakedepends="pkg-config libgcrypt-devel automake libtool"
makedepends="libgcrypt-devel gnutls-devel gtk+-devel"
build_style="gnu-configure"
configure_args="--disable-binreloc"
maintainer="Enno Boland <eb@s01.de>"
license="LGPL"
homepage="http://www.aquamaniac.de"
update_site="http://www.aquamaniac.de/sites/download/packages.php"
update_pattern='gwenhywfar-\K[\d.]+(beta)?'
short_desc="OS abstraction functions for various projects"
distfiles="http://www2.aquamaniac.de/sites/download/download.php?package=01&release=${_dnrel}&file=01&dummy=gwenhywfar-$version.tar.gz"
checksum=eebd4853d706d86e3852670189ff49d9ed0ec613dafb3455fbae819c1787277b

pre_configure() {
	libtoolize -f
}

if [ -z "$CROSS_BUILD" ]; then
	makedepends+=" qt-devel"
	gwenhywfar-qt_package() {
		short_desc+=" - qt4 bindings"
		pkg_install() {
			vmove usr/lib/*-qt4*
		}
	}
else
	configure_args+=" --with-guis=gtk2"
fi

gwenhywfar-gtk_package() {
	short_desc+=" - gtk+2 bindings"
	pkg_install() {
		vmove usr/lib/*-gtk2*
	}
}

gwenhywfar-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.so"
	}
}
