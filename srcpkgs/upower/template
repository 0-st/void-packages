# Template file for 'upower'
pkgname=upower
version=0.9.14
revision=3
homepage="http://upower.freedesktop.org"
distfiles="${homepage}/releases/$pkgname-$version.tar.xz"
build_style=gnu-configure
configure_args="--with-backend=linux"
short_desc="Abstraction for enumerating power devices"
maintainer="Juan RP <xtraeme@gmail.com>"
license="GPL-2"
checksum=81eb44c0453b264a737d32f763a31d5b1776f050a47d5be85fc5e9caf874a4c5
long_desc="
 UPower is an abstraction for enumerating power devices, listening to device
 events and querying history and statistics. Any application or service on
 the system can access the org.freedesktop.UPower service via the system
 message bus. Some operations (such as suspending the system) are restricted
 using PolicyKit."

systemd_services="upowerd.service on"
conf_files="/etc/UPower/UPower.conf"
subpackages="upower-devel"

Add_dependency run dbus

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build libxslt
Add_dependency build docbook-xsl
Add_dependency build gobject-introspection
Add_dependency build libusb-devel
Add_dependency build libgudev-devel
Add_dependency build dbus-glib-devel
Add_dependency build polkit-devel

Add_dependency full udev
Add_dependency full pm-utils

post_install() {
	vinstall ${FILESDIR}/upowerd.service 644 lib/systemd/system
}
