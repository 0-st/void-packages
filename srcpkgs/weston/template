# Template file for 'weston'.
pkgname=weston
version=1.0.5
revision=1
build_style=gnu-configure
depends="wayland>=${version}"
short_desc="Reference implementation of a Wayland compositor"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://wayland.freedesktop.org/"
license="MIT"
distfiles="http://wayland.freedesktop.org/releases/${pkgname}-${version}.tar.xz"
checksum=a03e28fe4080d4dcf011a43ff6aa76d2b98eec3cf2abe9c15988766aaf40533c

# XXX xcb-xkb.pc 
makedepends="pkg-config wayland-devel>=${version} libxkbcommon-devel
 xcb-util-keysyms-devel pixman-devel libXcursor-devel MesaLib-devel>=9.0.1_6
 cairo-devel mtdev-devel libwebp-devel poppler-glib-devel pam-devel
 systemd-devel librsvg glu-devel"

post_install() {
	vinstall COPYING 644 usr/share/license/$pkgname
	for f in clickdot cliptest dnd editor eventdemo flower gears image \
		keyboard resizor simple-egl simple-shm smoke view; do
		vinstall clients/$f 755 usr/bin weston-$f
	done
}
