# Template file for 'gnome-vfs'
pkgname=gnome-vfs
version=2.24.2
distfiles="${GNOME_SITE}/$pkgname/2.24/$pkgname-$version.tar.bz2"
build_style=gnu_configure
configure_args="--localstatedir=/var --disable-schemas-install
--with-gconf-schema-file-dir=/usr/share/gconf/schemas
--disable-samba --enable-openssl --disable-gnutls --disable-howl
--disable-avahi --disable-hal --enable-ipv6 --enable-fam"
short_desc="GNOME Virtual File System"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=50ecf5f37d377492e8943a3c359ffe64176d4e7f045e9980790eca999a1c6856
long_desc="
 GNOME VFS is the GNOME virtual file system. It is the foundation of the
 Nautilus file manager. It provides a modular architecture and ships with
 several modules that implement support for local files, http, ftp and others.
 It provides an URI-based API, a backend supporting asynchronous file
 operations, a MIME type manipulation library and other features."

conf_files="
/etc/gnome-vfs-2.0/modules/default-modules.conf
/etc/gnome-vfs-2.0/modules/ssl-modules.conf"

gconf_schemas="
desktop_default_applications.schemas
desktop_gnome_url_handlers.schemas
system_dns_sd.schemas
system_http_proxy.schemas
system_smb.schemas"

subpackages="$pkgname-devel"

# XXX: Investigate smb, avahi, hal modules. gnome-vfs is deprecated.
Add_dependency run glibc
Add_dependency run dbus-libs
Add_dependency run glib
Add_dependency run dbus-glib
Add_dependency run zlib
Add_dependency run bzip2
Add_dependency run libxml2
Add_dependency run mit-krb5-libs
Add_dependency run e2fsprogs-libs
Add_dependency run acl
Add_dependency run attr
Add_dependency run openssl
Add_dependency run gamin
Add_dependency run GConf
Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build dbus-devel
Add_dependency build glib-devel
Add_dependency build dbus-glib-devel
Add_dependency build zlib-devel
Add_dependency build bzip2-devel
Add_dependency build libxml2-devel
Add_dependency build mit-krb5-devel
Add_dependency build e2fsprogs-devel
Add_dependency build acl-devel
Add_dependency build attr-devel
Add_dependency build gamin-devel
Add_dependency build openssl-devel
Add_dependency build GConf-devel
