# Template build file for 'git".
pkgname=git
version=1.8.0.1
revision=1
short_desc="GIT Tree History Storage Tool"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://git-scm.com/"
license="GPL-2"
distfiles="http://git-core.googlecode.com/files/git-$version.tar.gz"
checksum=768191692f28bc9dce0ab5882478d30b220a5733a12ad571eadc83fa0822c2ea
long_desc="
 GIT is a directory content manager designed to handle absolutely massive
 projects with speed and efficiency, and the release of the 2.6.12 (and later)
 versions of the Linux kernel as well as more and more other projects switching
 to it would indicate that it does this task well.

 GIT falls in the category of distributed version control software, similar
 to e.g. GNU Arch or Monotone (or, in the commercial world, BitKeeper). Every
 GIT working directory is a full-fledged repository with full revision tracking
 capabilities, not dependent on network access to a central server."

subpackages="git-docs git-perl git-python"
# Required by https://
depends="ca-certificates"
makedepends="xmlto>=0.0.25_2 asciidoc perl openssl-devel libcurl-devel
 expat-devel python-devel"

do_configure() {
	./configure ${CONFIGURE_SHARED_ARGS} --with-curl \
		--with-expat --without-tcltk
}

do_build() {
	make ${makejobs} && make ${makejobs} -C Documentation man
}

do_install() {
	make DESTDIR=${DESTDIR} install install-doc
	vinstall contrib/completion/git-completion.bash 644 \
		etc/bash_completion.d git
}
