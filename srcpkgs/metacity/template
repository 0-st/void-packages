# Template file for 'metacity'
pkgname=metacity
version=2.34.1
distfiles="${GNOME_SITE}/$pkgname/2.34/$pkgname-$version.tar.xz"
build_style=gnu_configure
configure_args="--disable-schemas-install
--with-gconf-schema-file-dir=/usr/share/gconf/schemas"
short_desc="GNOME-compliant window manager"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=f144cb43925ca00d8eaac129a14df3260c54a32324b5cd0a4d78b0fd7ff1028a
long_desc="
 Metacity is not a meta-City as in an urban center, but rather Meta-ness as in
 the state of being meta. i.e. metacity : meta as opacity : opaque. Also
 it may have something to do with the Meta key on UNIX keyboards."

gconf_schemas="metacity.schemas"
subpackages="$pkgname-devel"

Add_dependency run glibc
Add_dependency run libcanberra
Add_dependency run libpng
Add_dependency run gdk-pixbuf
Add_dependency run gtk+
Add_dependency run atk
Add_dependency run glib
Add_dependency run pango
Add_dependency run cairo
Add_dependency run freetype
Add_dependency run fontconfig
Add_dependency run GConf
Add_dependency run startup-notification
Add_dependency run libXcomposite
Add_dependency run libXrender
Add_dependency run libXdamage
Add_dependency run libXfixes
Add_dependency run libXcursor
Add_dependency run libgtop
Add_dependency run libXrandr
Add_dependency run libSM
Add_dependency run libICE
Add_dependency run libX11
Add_dependency run libXext
Add_dependency run libXinerama

Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build gnome-doc-utils
Add_dependency build libcanberra-devel
Add_dependency build GConf-devel
Add_dependency build startup-notification-devel
Add_dependency build libgtop-devel
Add_dependency full zenity

post_install()
{
	mv ${DESTDIR}/usr/share/gconf/schemas/*.schemas ${wrksrc}
	gconf-merge-schema ${DESTDIR}/usr/share/gconf/schemas/${gconf_schemas} \
		--domain ${pkgname} ${wrksrc}/*.schemas
}
