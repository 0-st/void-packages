# Template file for 'newlisp'
pkgname=newlisp
version=10.3.9
homepage="http://www.newlisp.org"
distfiles="$homepage/downloads/development/$pkgname-$version.tgz"
short_desc="Lisp-like, general-purpose scripting language"
maintainer="Juan RP <xtraeme@gmail.com>"
license="GPL-3, zlib, $pkgname"
checksum=86e8a54e578984fb11528fef135ca935566126f6a8c6eb26653c6ebd1abeec2e
long_desc="
 newLISP is a Lisp-like, general-purpose scripting language. It is especially
 well-suited for applications in AI, web search, natural language processing,
 and machine learning. Because of its small resource requirements, newLISP
 is also excellent for embedded systems applications. Most of the functions
 you will ever need are already built in. This includes networking functions,
 support for distributed and parallel processing, and Bayesian statistics."

Add_dependency build readline-devel
Add_dependency build libffi-devel

do_build() {
	sed -i "s|i386-linux-gnu/||" newlisp.h
	./configure && make ${makejobs}
}

do_install() {
	vmkdir usr/bin
	vmkdir usr/share/man/man1
	make bindir=$DESTDIR/usr/bin datadir=$DESTDIR/usr/share \
		mandir=$DESTDIR/usr/share/man install
	vmove usr/share/doc/$pkgname/COPYING \
		usr/share/licenses/$pkgname
}
