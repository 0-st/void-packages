# Template file for 'newlisp'
pkgname=newlisp
version=10.4.3
revision=1
makedepends="which readline-devel libffi-devel"
short_desc="Lisp-like, general-purpose scripting language"
maintainer="Juan RP <xtraeme@gmail.com>"
license="GPL-3, zlib, $pkgname"
homepage="http://www.newlisp.org"
distfiles="$homepage/downloads/$pkgname-$version.tgz"
checksum=e874a3c452e9f188803c2118f55e1754eba97422b3efb660853baa34be3e3751
long_desc="
 newLISP is a Lisp-like, general-purpose scripting language. It is especially
 well-suited for applications in AI, web search, natural language processing,
 and machine learning. Because of its small resource requirements, newLISP
 is also excellent for embedded systems applications. Most of the functions
 you will ever need are already built in. This includes networking functions,
 support for distributed and parallel processing, and Bayesian statistics."

do_build() {
	sed -i "s|${XBPS_MACHINE}-linux-gnu/||" newlisp.h
	./configure && make ${makejobs}
}

do_install() {
	vmkdir usr/bin
	vmkdir usr/share/man/man1
	make bindir=$DESTDIR/usr/bin datadir=$DESTDIR/usr/share \
		mandir=$DESTDIR/usr/share/man install
	vmove usr/share/doc/$pkgname/COPYING \
		usr/share/licenses/$pkgname
}
