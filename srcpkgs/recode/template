# Template file for 'recode'
pkgname=recode
version=3.6
patch_args="-Np1"
distfiles="${DEBIAN_SITE}/main/r/${pkgname}/${pkgname}_${version}.orig.tar.gz"
build_style=gnu-configure
configure_args="--without-included-gettext"
revision=2
makedepends="automake"
short_desc="Character set conversion utility"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=e3e6a4f3f8e5c6052ab70155990c074d87aa0b614fc1be31d194750d1d962fcf
long_desc="
 Free recode converts files between character sets and usages. When exact
 transliterations are not possible, it may get rid of the offending
 characters or fall back on approximations. This program recognizes or
 produces nearly 300 different character sets and is able to transliterate
 files between almost any pair. Most RFC 1345 character sets, and all
 libiconv character sets, are supported."

subpackages="librecode $pkgname-devel"

pre_configure() {
	sed -i -e "/^AM_C_PROTOTYPES.*/d" configure.in
	sed -i -e "s/ansi2knr//" src/Makefile.am
	rm -f acinclude.m4 && autoreconf -fi && libtoolize
}
