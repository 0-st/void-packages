# Template file for 'polkit-gnome'
pkgname=polkit-gnome
version=0.105
distfiles="${GNOME_SITE}/$pkgname/$version/$pkgname-$version.tar.xz"
build_style=gnu-configure
revision=2
makedepends="pkg-config intltool gobject-introspection polkit-devel gtk+3-devel"
short_desc="PolicyKit integration for the GNOME desktop"
maintainer="Juan RP <xtraeme@gmail.com>"
homepage="http://www.freedesktop.org/wiki/Software/PolicyKit"
license="GPL-2"
checksum=1784494963b8bf9a00eedc6cd3a2868fb123b8a5e516e66c5eda48df17ab9369
long_desc="
 PolicyKit is an application-level toolkit for defining and handling the
 policy that allows unprivileged processes to speak to privileged processes.

 It is a framework for centralizing the decision making process with respect
 to granting access to privileged operations (like calling the HAL Mount()
 method) for unprivileged (desktop) applications.

 This package contains the glue to integrate with the GNOME desktop."


post_install()
{
	# Start polkit-gnome-authentication-agent-1 via XDG autostart,
	# otherwise it will run with the GDM user and won't work.
	vinstall ${FILESDIR}/polkit-gnome-authentication-agent-1.desktop \
		644 etc/xdg/autostart
}
