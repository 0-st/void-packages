From c6011f2add61e3b902fb385760fdaa9d8816f29a Mon Sep 17 00:00:00 2001
From: Harald Hoyer <harald@redhat.com>
Date: Thu, 13 Jun 2013 07:29:17 +0000
Subject: i18n: make the default font configurable

To set the default font for your distribution, add
i18n_default_font="latarcyrheb-sun16"
to your /lib/dracut/dracut.conf.d/01-dist.conf distribution config.
---
diff --git a/dracut.conf.d/fedora.conf.example b/dracut.conf.d/fedora.conf.example
index 6389437..3d6faa2 100644
--- dracut.conf.d/fedora.conf.example
+++ dracut.conf.d/fedora.conf.example
@@ -2,6 +2,7 @@
 
 # i18n
 i18n_vars="/etc/sysconfig/keyboard:KEYTABLE-KEYMAP /etc/sysconfig/i18n:SYSFONT-FONT,FONTACM-FONT_MAP,FONT_UNIMAP"
+i18n_default_font="latarcyrheb-sun16"
 omit_drivers+=' .*/fs/ocfs/.*  i2o_scsi'
 stdloglvl=3
 logfile=/var/log/dracut.log
diff --git a/modules.d/10i18n/module-setup.sh b/modules.d/10i18n/module-setup.sh
index 60a50e7..195364c 100755
--- modules.d/10i18n/module-setup.sh
+++ modules.d/10i18n/module-setup.sh
@@ -14,7 +14,7 @@ depends() {
 install() {
     dracut_install -o $systemdutildir/systemd-vconsole-setup
     KBDSUBDIRS=consolefonts,consoletrans,keymaps,unimaps
-    DEFAULT_FONT=latarcyrheb-sun16
+    DEFAULT_FONT="${i18n_default_font:-LatArCyrHeb-16}"
     I18N_CONF="/etc/locale.conf"
     VCONFIG_CONF="/etc/vconsole.conf"
 
--
cgit v0.9.2
