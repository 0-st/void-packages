# Template file for 'ppl'
pkgname=ppl
version=0.10.2
revision=2
distfiles="http://www.cs.unipr.it/ppl/Download/ftp/releases/${version}/ppl-${version}.tar.gz"
build_style=gnu_configure
configure_args="--disable-rpath --enable-interfaces=c,cxx
 --with-libgmp-prefix=${XBPS_MASTERDIR}/usr
 --with-libgmpxx-prefix=${XBPS_MASTERDIR}/usr
 --with-gnu-ld --disable-debugging"
short_desc="The Parma Polyhedra Library"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=d0389838575a7e003542fe996cce54bb0405f9a011424ba7384d12a634219e52
long_desc="
 The Parma Polyhedra Library (PPL) provides numerical abstractions especially
 targeted at applications in the field of analysis and verification of complex
 systems. These abstractions include convex polyhedra, defined as the
 intersection of a finite number of (open or closed) halfspaces, each
 described by a linear inequality (strict or non-strict) with rational
 coefficients; some special classes of polyhedra shapes that offer interesting
 complexity/precision tradeoffs; and grids which represent regularly spaced
 points that satisfy a set of linear congruence relations. The library also
 supports finite powersets and products of (any kind of) polyhedra and grids
 and a mixed integer linear programming problem solver using an
 exact-arithmetic version of the simplex algorithm."

base_chroot=yes
subpackages="ppl-devel"
Add_dependency run libgcc
Add_dependency run glibc
Add_dependency run libstdc++
Add_dependency run gmp
Add_dependency build gmp-devel

pre_configure()
{
	# 5.0.1 compatibility
	sed -i -e "s|__GMP_BITS_PER_MP_LIMB|GMP_LIMB_BITS|g" ${wrksrc}/configure
}
