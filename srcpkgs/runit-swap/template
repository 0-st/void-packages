# Template file for 'runit-swap'
pkgname=runit-swap
version=1.0.0
revision=1
build_style=meta
depends="runit util-linux>=2.26"
hostmakedepends="git"
short_desc="Script to manage swapspaces"
maintainer="Andrea Brancaleoni <miwaxe@gmail.com>"
license="GPL"
homepage="https://github.com/thypon/runit-swap"

do_fetch() {
  local url="git://github.com/thypon/runit-swap"
  msg_normal "Fetching source from $url ...\n"
  git clone --branch v${version} ${url} ${pkgname}-${version}
}

do_install() {
  vinstall runit-swap.sh      744 usr/sbin
  vconf    runit-swap.conf
  vinstall swap/run           744 etc/sv/swap
  vinstall swap/finish        744 etc/sv/swap
  vinstall 90-runit-swap.conf 644 etc/modprobe.d/
}
