# Template file for 'zlib32'
pkgname=zlib32
version=1.2.5
distfiles="
http://xbps.nopcode.org/repos/stable/i686/zlib-${version}.i686.xbps
http://xbps.nopcode.org/repos/stable/i686/zlib-devel-${version}.i686.xbps"
build_style=custom-install
short_desc="A compression/decompression Library (32 bits)"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum="
cf85398c5d8fbc088d78cdf2e576f8b3fdeca62e59125af1d4f67285cd113666
afcbb528ab625e59c9d05ba6871e381e6c6cfa3e33e4bc261c47797b5ac2e16d"
long_desc="
 This is a general purpose data compression library. All the code
 is thread safe. The data format used by the library is described
 by RFCs (Request for Comments) 1950 to 1952.

 This package installs the 32 bit libraries for x86_64 systems."

subpackages="$pkgname-devel"
nostrip=yes
noextract=yes
noverifyrdeps=yes
only_for_archs=x86_64

Add_dependency run glibc32
Add_dependency build bsdtar

do_install()
{
	for f in ${distfiles}; do
		local srcfile="${XBPS_SRCDISTDIR}/$(basename ${f})"
		bsdtar xf ${srcfile} -C ${wrksrc} || return 1
	done

	install -d ${DESTDIR}/usr/lib32
	cp -a ${wrksrc}/usr/lib/*.{a,so*} ${DESTDIR}/usr/lib32
}
