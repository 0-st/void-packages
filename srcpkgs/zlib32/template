# Template file for 'zlib32'
pkgname=zlib32
version=1.2.5
revision=3
distfiles="
http://xbps.nopcode.org/repos/current/i686/zlib-${version}_3.i686.xbps
http://xbps.nopcode.org/repos/current/i686/zlib-devel-${version}_1.i686.xbps"
build_style=custom-install
short_desc="A compression/decompression Library (32 bits)"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum="
c36d15ba557eaf7441c69a17df2c45ffd06cb65f00ce680a1b1e40ed325a8a25
f50e07a9063a536ab0ecdb5c771f2b1ab2a579a6b2d81dc674bb7b6ab720e680"
long_desc="
 This is a general purpose data compression library. All the code
 is thread safe. The data format used by the library is described
 by RFCs (Request for Comments) 1950 to 1952.

 This package installs the 32 bit libraries for x86_64 systems."

subpackages="$pkgname-devel"
nostrip=yes
noextract=yes
noverifyrdeps=yes
only_for_archs=x86_64

Add_dependency run glibc32
Add_dependency build bsdtar

do_install()
{
	for f in ${distfiles}; do
		local srcfile="${XBPS_SRCDISTDIR}/$(basename ${f})"
		bsdtar xf ${srcfile} -C ${wrksrc}
	done

	vmkdir usr/lib32
	vcopy "usr/lib/*.a" usr/lib32
	vcopy "usr/lib/*.so*" usr/lib32
}
