# Template file for 'geoclue'
pkgname=geoclue
version=0.12.0
revision=4
distfiles="http://launchpad.net/geoclue/trunk/0.12/+download/geoclue-$version.tar.gz"
build_style=gnu-configure
configure_args="--enable-networkmanager=no --enable-conic=no"
short_desc="The Geoinformation Service"
maintainer="Juan RP <xtraeme@gmail.com>"
checksum=0f533f177ae9aa35e807a01c754840f66df9579f5524552f14f2b5ba670a4696
long_desc="
 Geoclue is a modular geoinformation service built on top of the D-Bus
 messaging system. The goal of the Geoclue project is to make creating
 location-aware applications as simple as possible."

subpackages="$pkgname-devel"

Add_dependency build automake
Add_dependency build gtk-doc
Add_dependency build pkg-config
Add_dependency build intltool
Add_dependency build dbus-glib-devel
Add_dependency build libxml2-devel
Add_dependency build GConf-devel
Add_dependency build libxslt
Add_dependency build gtk+-devel
Add_dependency build libsoup-gnome-devel

pre_configure() {
	sed -i 's/libnm_glib/libnm-glib/g' configure.ac
	sed -i '/libsoup-gnome/s/$/ gthread-2.0/' configure.ac
	autoreconf -fi
}
